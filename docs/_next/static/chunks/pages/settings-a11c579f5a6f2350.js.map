{"version":3,"file":"static/chunks/pages/settings-a11c579f5a6f2350.js","mappings":"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","sources":["webpack://_N_E/../../libs/fanfanlo/src/react/createTypedContext.ts","webpack://_N_E/../../node_modules/.pnpm/react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3/node_modules/react-i18next/dist/es/index.js","webpack://_N_E/./src/components/page/sign-up-in/components/sign-up-in-button/SignUpIn.tsx","webpack://_N_E/./src/components/page/settings/content/Settings.tsx","webpack://_N_E/./src/components/page/settings/data/settings.context.tsx","webpack://_N_E/./src/components/page/settings/data/ns.ts","webpack://_N_E/./src/components/page/settings/data/settings.data.intf.ts","webpack://_N_E/./src/pages/settings/index.tsx","webpack://_N_E/../../libs/fanfanlo/src/react/AsyncContextLoader.tsx","webpack://_N_E/../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/ListItemText/listItemTextClasses.js","webpack://_N_E/?7200","webpack://_N_E/./src/components/fallback/Fallback.tsx","webpack://_N_E/../../libs/fanfanlo/src/mui/dialog/ButtonConfirm.tsx"],"sourcesContent":["import { createContext, useContext } from \"react\";\n\nexport function createTypedContext<T>() {\n  const Context = createContext<T | undefined>(undefined);\n  const useTypedContext = () => {\n    const value = useContext(Context);\n    if (value === undefined) throw new Error(\"Context not provided\");\n    return value;\n  };\n  return [Context.Provider, useTypedContext] as const;\n}\n\n\n","export * from \"C:\\\\work\\\\android-droid\\\\html\\\\website-2024-12\\\\node_modules\\\\.pnpm\\\\react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3\\\\node_modules\\\\react-i18next\\\\dist\\\\es\\\\index.js\"","import { useTranslation } from \"@fanfanlo\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useProxyWatch } from \"@fanfanlo\";\r\nimport { user } from \"@app/model\";\r\nimport toast from \"react-hot-toast\";\r\nimport { Box, Button } from \"@mui/material\";\r\nimport Link from \"next/link\";\r\nimport { ButtonConfirm } from \"@fanfanlo\";\r\n\r\ninterface SignUpInButtonProps{\r\n    back?:string;\r\n}\r\n\r\nexport function SignUpInButton({back}:SignUpInButtonProps){\r\n    // apps\\homepage\\src\\components\\page\\sign-up-in\\components\\sign-up-in-button\\SignUpIn.i18n.json\r\n    const { t } = useTranslation('homepage/components/page/sign-up-in/components/sign-up-in-button/content');\r\n    const router = useRouter();\r\n    const [token] = useProxyWatch(user, 'data.storeData.user_token', user.data.storeData.user_token);\r\n    const [userInitialized] = useProxyWatch(user, 'data.userInitialized', user.data.userInitialized);\r\n    function onSignoutClick(){\r\n        user.signout();\r\n        toast(t('SignUpIn.signoutOk'), { duration: 5000 })\r\n    }\r\n    if(!userInitialized){\r\n        return (\r\n            <>\r\n            {t('SignUpIn.loadingData')}\r\n            </>\r\n        )\r\n    }\r\n    if(token){\r\n        return(\r\n            <Box>\r\n                <Box>\r\n                    <span>\r\n                        {user.userName}\r\n                    </span>\r\n                </Box>\r\n                <Box>\r\n                <span>\r\n                    <ButtonConfirm title={t('SignUpIn.confirmTitle')} content={t('SignUpIn.confirmContent')} onConfirm={onSignoutClick}><Button>{t('SignUpIn.signOut')}</Button></ButtonConfirm>\r\n                </span>\r\n                </Box>\r\n            </Box>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <span>\r\n                <Link href={`/sign-up-in?back=${back}`}>{t('SignUpIn.signUpIn')}</Link>\r\n            </span>\r\n        </>\r\n    )\r\n    return(\r\n        <>\r\n        {token ? <ButtonConfirm title={t('SignUpIn.confirmTitle')} content={t('SignUpIn.confirmContent')} onConfirm={onSignoutClick}><Button>{t('SignUpIn.signOut')}</Button></ButtonConfirm> : <Link href={`/sign-up-in?back=${back}`}>{t('SignUpIn.signUpIn')}</Link>}\r\n        </>\r\n    )\r\n}\r\n","import { Box, Typography } from \"@mui/material\"\r\nimport { LanguageSelect } from \"@src/components/language-selector/LanguageSelect\"\r\nimport { SignUpInButton } from \"../../sign-up-in/components/sign-up-in-button/SignUpIn\"\r\n\r\nexport const SettingsContent = () => {\r\n    return (\r\n        <Box>\r\n            <LanguageSelect />\r\n            <SignUpInButton back=\"/settings\" />\r\n            {/* {[...Array(200)].map((_, i) => (\r\n                <Typography key={i}>{i}</Typography>\r\n            ))} */}\r\n\r\n        </Box>\r\n    )\r\n}","import { createAsyncContextLoader } from \"@fanfanlo\";\r\nimport { createTypedContext } from \"@fanfanlo\";\r\nimport { ISettingsPageData } from \"./settings.data.intf\";\r\nimport { IStoreWithData } from \"@fanfanlo\";\r\nimport { Fallback } from \"@src/components/fallback/Fallback\";\r\n\r\nexport const [SettingsPageDataContextProvider, useSettingsPageData] = createTypedContext<ISettingsPageData>();\r\n\r\nexport const SettingsPageDataContextLoader = createAsyncContextLoader({\r\n    Provider: SettingsPageDataContextProvider,\r\n    extract: (res: IStoreWithData<ISettingsPageData>) => res.data,\r\n    fallback: <Fallback />,\r\n});","const ns = 'settings';\r\nconst androidData = `${ns}:android`;\r\nconst webData = `${ns}:web`;\r\nexport const settingNs = {\r\n    ns,\r\n    androidData,\r\n    webData,\r\n}","import { IStoreWithData, storeUtils } from \"@fanfanlo\";\r\nimport { settingNs } from \"./ns\";\r\n\r\n\r\nexport interface ISettingsPageData{\r\n\r\n}\r\n\r\n\r\nfunction createDefaultSettingsPageData():ISettingsPageData{\r\n    return {\r\n    }\r\n}\r\n\r\nfunction createSettingsPageData():ISettingsPageData{\r\n    return createDefaultSettingsPageData();\r\n}\r\n\r\nlet loader:Promise<IStoreWithData<ISettingsPageData>>;\r\nexport async function loadSettingsPageData():Promise<IStoreWithData<ISettingsPageData>>{\r\n    if(loader)return loader;\r\n    const defData = createSettingsPageData();\r\n    loader = storeUtils.getNamespaceStoreWithData<ISettingsPageData>(settingNs.androidData, {defData, forceReset:false, mergeDefData:true});\r\n    return loader;\r\n}\r\n","import { AppShell, TabbarContainer } from \"@app/ui\";\r\nimport { NavBar } from \"@src/components/navbar/NavBar\";\r\nimport { SettingsContent } from \"@src/components/page/settings/content/Settings\";\r\nimport { SettingsPageDataContextLoader } from \"@src/components/page/settings/data/settings.context\";\r\n\r\nimport { loadSettingsPageData } from \"@src/components/page/settings/data/settings.data.intf\";\r\n\r\nexport default function SettingsPage() {\r\n    return (\r\n        <AppShell>\r\n            <TabbarContainer titleConf={{ ns: \"emergency-call/pages/settings/content\", key: \"content.title\" }}\r\n                        navBar={<NavBar/>}>\r\n                <SettingsPageDataContextLoader value={() => loadSettingsPageData()}>\r\n                    <SettingsContent />\r\n                </SettingsPageDataContextLoader>\r\n            </TabbarContainer>\r\n        </AppShell>\r\n    )\r\n}   ","\n/**\n * 使用场景：\n * \nexport const [MarketPageDataContextProvider, useMarketPageData] = createTypedContext<IMarketPageData>();\n\n function Content({loader}: {loader: Promise<IStoreWithData<IMarketPageData>>}){\n    const store = use(loader);\n    console.log('store=', store);\n    return (<MarketPageDataContextProvider value={store.data}>\n    <MarketContent />\n</MarketPageDataContextProvider>\n    )\n}\n    export default function MarketPage() {\n    const loader:Promise<IStoreWithData<IMarketPageData>> = loadMarketPageData();\n    return (\n                <Suspense fallback={<div>loading</div>}>\n                    <Content loader={loader} />\n                </Suspense>\n        )\n}\n */\n// 使用场景：\n// C:\\work\\android-droid\\html\\website-2024-12\\libs\\fanfanlo\\src\\react\\createTypedContext.ts 的 createTypedContext返回的useTypedContext会需要是promise的，所以我需要一个能够给它传递promise并初始化的组件，可以使用react19的use方法来帮我实现吗？\n\nimport { Suspense, use } from \"react\";\n\n\nexport function createAsyncContextLoader<T, U>(options: {\n    Provider: React.ComponentType<{ value: T; children?: React.ReactNode }>;\n    extract: (u: U) => T;\n    fallback?: React.ReactNode;\n  }) {\n    const { Provider, extract, fallback = null } = options;\n  \n    function AsyncContextLoaderInner(props: {\n      value: () => Promise<U>;\n      children?: React.ReactNode;\n    }) {\n      const raw = use(props.value());\n      const contextValue = extract(raw);\n      return <Provider value={contextValue}>{props.children}</Provider>;\n    }\n  \n    return function AsyncContextLoader(props: {\n      value: () => Promise<U>;\n      children?: React.ReactNode;\n    }) {\n      return (\n        <Suspense fallback={fallback}>\n          <AsyncContextLoaderInner {...props} />\n        </Suspense>\n      );\n    };\n  }","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getListItemTextUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemText', slot);\n}\nconst listItemTextClasses = generateUtilityClasses('MuiListItemText', ['root', 'multiline', 'dense', 'inset', 'primary', 'secondary']);\nexport default listItemTextClasses;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/settings\",\n      function () {\n        return require(\"private-next-pages/settings/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/settings\"])\n      });\n    }\n  ","import {useTranslation} from '@fanfanlo'\r\nexport function Fallback(){\r\n    const {t} = useTranslation('homepage/components/fallback/content')\r\n    return   (\r\n    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100%', width:\"100%\" }}>\r\n        <span>{t('content.loading')}</span>\r\n      </div>\r\n    )\r\n}","import { Button, Dialog, DialogActions, DialogContent, DialogTitle } from \"@mui/material\"\r\nimport React, { PropsWithChildren, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nexport interface ButtonConfirmProps {\r\n    title?: string | React.ReactNode\r\n    content?: string | React.ReactNode\r\n    confirmText?: string | React.ReactNode\r\n    cancelText?: string | React.ReactNode\r\n    onConfirm?: () => void\r\n    onCancel?: () => void\r\n    onClose?: (confirmed:boolean) => void\r\n    cancelId?: string\r\n    confirmId?: string\r\n}\r\n\r\nexport function ButtonConfirm({ title, content, confirmText, cancelText, onConfirm, onCancel, onClose , cancelId, confirmId, children }: ButtonConfirmProps & PropsWithChildren) {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const {t} = useTranslation('fanfanlo/mui/dialog/content')\r\n    return (\r\n        <>\r\n            <span onClick={() => setIsOpen(true)}>\r\n                {children}  \r\n            </span>\r\n            <Dialog open={isOpen} onClose={() => setIsOpen(false)}>\r\n                <DialogTitle>{title || t('ButtonConfirm.title')}</DialogTitle>\r\n                <DialogContent>{content || t('ButtonConfirm.content')}</DialogContent>\r\n                <DialogActions>\r\n                    <Button id={cancelId || 'btn-dialog-button-confirm-cancel'}\r\n                    data-id={cancelId || 'btn-dialog-button-confirm-cancel'}\r\n                    onClick={()=>{setIsOpen(false); onCancel?.();onClose?.(false)}}>{cancelText || t('ButtonConfirm.cancel')}</Button>\r\n                    <Button id={confirmId || 'btn-dialog-button-confirm-confirm'}\r\n                    data-id={confirmId || 'btn-dialog-button-confirm-confirm'}\r\n                    onClick={()=>{setIsOpen(false); onConfirm?.();onClose?.(true)}}>{confirmText || t('ButtonConfirm.confirm')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n"],"names":["createContext","useContext","createTypedContext","Context","undefined","useTypedContext","value","Error","Provider","useTranslation","useRouter","useProxyWatch","user","toast","Box","Button","Link","ButtonConfirm","SignUpInButton","back","t","router","token","data","storeData","user_token","userInitialized","onSignoutClick","signout","duration","span","userName","title","content","onConfirm","href","LanguageSelect","SettingsContent","createAsyncContextLoader","Fallback","SettingsPageDataContextProvider","useSettingsPageData","SettingsPageDataContextLoader","extract","res","fallback","ns","androidData","webData","settingNs","storeUtils","createDefaultSettingsPageData","createSettingsPageData","loader","loadSettingsPageData","defData","getNamespaceStoreWithData","forceReset","mergeDefData","AppShell","TabbarContainer","NavBar","SettingsPage","titleConf","key","navBar","Suspense","use","options","AsyncContextLoaderInner","props","raw","contextValue","children","AsyncContextLoader","generateUtilityClasses","generateUtilityClass","getListItemTextUtilityClass","slot","listItemTextClasses","div","style","display","justifyContent","alignItems","height","width","Dialog","DialogActions","DialogContent","DialogTitle","React","useState","confirmText","cancelText","onCancel","onClose","cancelId","confirmId","isOpen","setIsOpen","onClick","open","id","data-id"],"sourceRoot":"","ignoreList":[1,9]}
{"version":3,"file":"static/chunks/3881-c3773eda654f7091.js","mappings":"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","sources":["webpack://_N_E/../../libs/droid/project-interface/src/utils/IChildToProject.intf.ts","webpack://_N_E/../../node_modules/.pnpm/react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3/node_modules/react-i18next/dist/es/index.js","webpack://_N_E/../../libs/app/model/src/remote/tracking/print.ts","webpack://_N_E/../../libs/app/ui/src/components/app/AppShell.tsx","webpack://_N_E/../../libs/fanfanlo/src/utils/files-map-utils.ts","webpack://_N_E/../../libs/fanfanlo/src/i18n/i18n-init.ts","webpack://_N_E/../../libs/droid/project-interface/src/trigger-action/ITriggerActionGroup.ts","webpack://_N_E/../../libs/droid/project-interface/src/storage/storage.ts","webpack://_N_E/../../libs/fanfanlo/src/storage/store-page-context.tsx","webpack://_N_E/../../libs/app/ui/src/components/page/PageContent.tsx","webpack://_N_E/../../libs/app/ui/src/components/page/AndroidPageContent.tsx","webpack://_N_E/../../libs/droid/project-interface/src/project/IProject.data.ts","webpack://_N_E/../../libs/droid/project-interface/src/action/IActionGroup.intf.ts","webpack://_N_E/../../libs/droid/project-interface/src/trigger/ITriggerGroup.intf.ts","webpack://_N_E/../../libs/droid/project-interface/src/trigger-action/ITriggerAction.intf.ts","webpack://_N_E/../../libs/droid/project-interface/src/utils/mergeToDefaultData.ts"],"sourcesContent":["import { ITriggerData, ITriggerGroup } from \"../trigger\";\r\nimport { IActionData, IActionJavaData } from \"../action/IAction.intf\";\r\nimport { IActionGroup } from \"../action/IActionGroup.intf\";\r\nimport { IProjectData } from \"../project/IProject.data\";\r\nimport { ITriggerAction } from \"../trigger-action/ITriggerAction.intf\";\r\nimport { ITriggerActionGroup } from \"../trigger-action/ITriggerActionGroup\";\r\nimport { getParent, ExtractedObjectTypeValues } from \"@fanfanlo\";\r\nexport interface IChildToProjectData{\r\n    action?:IActionData<any, any>\r\n    actionList?:IActionData<any, any>[]\r\n    actionGroup?:IActionGroup\r\n\r\n    trigger?:ITriggerData<any, any>\r\n    triggerList?:ITriggerData<any, any>[]\r\n    triggerGroup?:ITriggerGroup\r\n\r\n    triggerAction?:ITriggerAction\r\n    triggerActionList?:ITriggerAction[]\r\n    triggerActionGroup?:ITriggerActionGroup\r\n\r\n    project?:IProjectData\r\n}\r\nexport function projectDataToUniqueId(data:IChildToProjectData):string{\r\n    let s = ``\r\n    function add(name:string, id?:string){if(id)s += `|${name}:${id}`}\r\n    add('project', data.project?.id);\r\n    add('trigger-action-group', data.triggerActionGroup?.id);\r\n    add('trigger-action', data.triggerAction?.id);\r\n\r\n    add('trigger-group', data.triggerGroup?.id);\r\n    add('trigger', data.trigger?.id);\r\n    add('trigger-java-data', data.trigger?.javaData?.id)\r\n    \r\n    add('action-group', data.actionGroup?.id);\r\n    add('action', data.action?.id);\r\n    add('action-java-data', data.action?.javaData?.id)\r\n    return s;\r\n}\r\n// project\r\nfunction getProjectByProp<T extends IProjectData = IProjectData>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData):T | undefined{\r\n    const data = prop ? getParent<T>(prop) : undefined\r\n    if(projectData) {\r\n        projectData.project = data\r\n    }\r\n    return data\r\n}\r\n\r\nfunction getProjectElementByProp<T extends IProjectData = IProjectData>(prop:ExtractedObjectTypeValues<T>, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getProjectByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n\r\n// trigger action group\r\nfunction getTriggerActionGroupByProp<T extends ITriggerActionGroup = ITriggerActionGroup>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.triggerActionGroup = data\r\n        getProjectByProp(data, projectData)\r\n    }\r\n    return data\r\n}\r\nfunction getTriggerActionGroupElementByProp<T extends ITriggerActionGroup = ITriggerActionGroup>(prop:ExtractedObjectTypeValues<T>, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getTriggerActionGroupByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n\r\nfunction getTriggerActionGroupElement(triggerActionGroup:ITriggerActionGroup, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    projectData.triggerActionGroup = triggerActionGroup\r\n    getTriggerActionGroupByProp(triggerActionGroup.checks, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n// trigger action list\r\nfunction getTriggerActionListByProp<T extends ITriggerAction = ITriggerAction>(prop:T, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T[]>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.triggerActionList = data\r\n        getTriggerActionGroupByProp(data, projectData)\r\n    }\r\n    return data\r\n}\r\n\r\nfunction getTriggerActionListElementByProp<T extends ITriggerAction = ITriggerAction>(prop:T, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getTriggerActionListByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n// trigger action\r\nfunction getTriggerActionByProp<T extends ITriggerAction = ITriggerAction>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.triggerAction = data\r\n        getTriggerActionListByProp(data, projectData)\r\n    }\r\n    return data\r\n}\r\n\r\nfunction getTriggerActionElementByProp<T extends ITriggerAction = ITriggerAction>(prop:ExtractedObjectTypeValues<T>, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getTriggerActionByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n// trigger group\r\nfunction getTriggerGroupByProp<T extends ITriggerGroup = ITriggerGroup>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.triggerGroup = data\r\n        getTriggerActionByProp(data, projectData)\r\n    }\r\n    return data\r\n}\r\n\r\nfunction getTriggerGroupElementByProp<T extends ITriggerGroup = ITriggerGroup>(prop:ExtractedObjectTypeValues<T>, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getTriggerGroupByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\nfunction getTriggerGroupElement(triggerGroup:ITriggerGroup, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    projectData.triggerGroup = triggerGroup\r\n    getTriggerGroupByProp(triggerGroup.list, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n// trigger list\r\nexport function getTriggerListByProp<T extends ITriggerData<any, any> = ITriggerData<any, any>>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T[]>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.triggerList = data\r\n        getTriggerGroupByProp(data, projectData)\r\n    }\r\n    return data\r\n}\r\n\r\nexport function getTriggerListElementByProp<T extends ITriggerData<any, any> = ITriggerData<any, any>>(prop:ExtractedObjectTypeValues<T>, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getTriggerListByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n// trigger\r\nexport function getTriggerByProp<T extends ITriggerData<any, any> = ITriggerData<any, any>>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.trigger = data\r\n        getTriggerListByProp(data, projectData)\r\n    }\r\n    return data\r\n}\r\n\r\nexport function getTriggerElementByProp<T extends ITriggerData<any, any> = ITriggerData<any, any>>(prop:ExtractedObjectTypeValues<T>, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getTriggerByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n// 得想办法让它在数据不正确时报错才行\r\n// getTriggerByProp({shellData:{}})\r\n// getTriggerByProp({javaData:{}})\r\n// getTriggerByProp(3)\r\n\r\n\r\n// action group\r\nexport function getActionGroupByProp<T extends IActionGroup = IActionGroup>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.actionGroup = data\r\n        getTriggerActionByProp(data, projectData)\r\n    }\r\n    return data\r\n}\r\n\r\nexport function getActionGroupElementByProp<T extends IActionGroup = IActionGroup>(prop:ExtractedObjectTypeValues<T>, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getActionGroupByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\nexport function getActionGroupElement(actionGroup:IActionGroup, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    projectData.actionGroup = actionGroup\r\n    getTriggerActionByProp(actionGroup, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n// action list\r\nexport function getActionListByProp<T extends IActionData<any, any> = IActionData<any, any>>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T[]>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.actionList = data\r\n        getActionGroupByProp(data, projectData)\r\n    }\r\n    return data\r\n}   \r\nfunction getActionListElementByProp<T extends IActionData<any, any> = IActionData<any, any>>(prop:ExtractedObjectTypeValues<T>, prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getActionListByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix)\r\n}\r\n\r\n// action\r\nfunction getActionByProp<T extends IActionData<any, any> = IActionData<any, any>>(prop:ExtractedObjectTypeValues<T>, projectData?:IChildToProjectData){\r\n    const data = prop ? getParent<T>(prop) : undefined\r\n    if(projectData && data){\r\n        projectData.action = data\r\n        getActionListByProp(data, projectData)\r\n    }\r\n    return data\r\n}\r\n\r\nfunction getActionElementIdByProp<T extends IActionData<any, any> = IActionData<any, any>>(prop:ExtractedObjectTypeValues<T>,prefix:string = '', suffix:string = '', projectData:IChildToProjectData = {}){\r\n    getActionByProp(prop, projectData)\r\n    return getProjectElementsId(projectData, prefix, suffix) \r\n}\r\n\r\nfunction getProjectElementsId(childData:IChildToProjectData, prefix:string = '', suffix:string = ''){\r\n    return {\r\n        [`data-groupof${prefix ? '-'+prefix : ''}-project-id${suffix ? '-'+suffix : ''}`]: childData.project?.id,\r\n        [`data-project-id`]:childData.project?.id,\r\n\r\n        [`data-groupof${prefix ? '-'+prefix : ''}-trigger-action-group-id${suffix ? '-'+suffix : ''}`]: childData.triggerActionGroup?.id,\r\n        [`data-trigger-action-group-id`]:childData.triggerActionGroup?.id,\r\n\r\n        [`data-groupof${prefix ? '-'+prefix : ''}-trigger-action-id${suffix ? '-'+suffix : ''}`]: childData.triggerAction?.id,\r\n        [`data-trigger-action-id`]:childData.triggerAction?.id,\r\n\r\n        [`data-groupof${prefix ? '-'+prefix : ''}-trigger-group-id${suffix ? '-'+suffix : ''}`]: childData.triggerGroup?.id,\r\n        [`data-trigger-group-id`]:childData.triggerGroup?.id,\r\n\r\n        [`data-groupof${prefix ? '-'+prefix : ''}-trigger-id${suffix ? '-'+suffix : ''}`]: childData.trigger?.id,\r\n        [`data-trigger-id`]:childData.trigger?.id,\r\n\r\n        [`data-groupof${prefix ? '-'+prefix : ''}-action-group-id${suffix ? '-'+suffix : ''}`]: childData.actionGroup?.id,\r\n        [`data-action-group-id`]:childData.actionGroup?.id,\r\n\r\n        [`data-groupof${prefix ? '-'+prefix : ''}-action-id${suffix ? '-'+suffix : ''}`]: childData.action?.id,\r\n        [`data-action-id`]:childData.action?.id\r\n    }\r\n}\r\n\r\nexport const childToProjectDataUtils = {\r\n    project:{\r\n        getProjectByProp,\r\n        getProjectElementByProp\r\n    },\r\n    triggerActionGroup:{\r\n        getTriggerActionGroupByProp,\r\n        getTriggerActionGroupElementByProp,\r\n        getTriggerActionGroupElement,\r\n    },\r\n    triggerActionList:{\r\n        getTriggerActionListByProp,\r\n        getTriggerActionListElementByProp,\r\n    },\r\n    triggerAction:{\r\n        getTriggerActionByProp,\r\n        getTriggerActionElementByProp,\r\n    },\r\n    triggerGroup:{\r\n        getTriggerGroupByProp,\r\n        getTriggerGroupElementByProp,\r\n        getTriggerGroupElement\r\n    },\r\n    trigger:{\r\n        getTriggerByProp,\r\n        getTriggerElementByProp,\r\n    },\r\n    triggerList:{\r\n        getTriggerListByProp,\r\n        getTriggerListElementByProp,\r\n    },\r\n    actionGroup:{\r\n        getActionGroupByProp,\r\n        getActionGroupElementByProp,\r\n        getActionGroupElement,\r\n    },\r\n    actionList:{\r\n        getActionListByProp,\r\n        getActionListElementByProp,\r\n    },\r\n    action:{\r\n        getActionByProp,\r\n        getActionElementIdByProp\r\n    },\r\n    getProjectElementsId\r\n}","export * from \"C:\\\\work\\\\android-droid\\\\html\\\\website-2024-12\\\\node_modules\\\\.pnpm\\\\react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3\\\\node_modules\\\\react-i18next\\\\dist\\\\es\\\\index.js\"","import { request } from \"@fanfanlo\"\r\nimport { IRequestOptions } from \"../IRequestOptions\"\r\nimport { tms } from \"../tms\"\r\n\r\n\r\nexport interface ITrackingPrint{\r\n    type:string\r\n    title:string\r\n    subtitle:string\r\n    extra?:Record<any, any>\r\n}\r\n\r\nexport async function trackingPrint(opts:IRequestOptions<ITrackingPrint>){\r\n    const res = await request(tms.TTracking, tms.MTrackingPrint, opts.params, opts.gateway, opts.handler)\r\n    return res;\r\n}","'use client'\r\nimport { i18n, i18nInit, IPageScrollPosition, StorePageContext, StorePageDynamicContext, toProxy, watchUpdates, storeUtils } from \"@fanfanlo\";\r\nimport { useRouter } from \"next/router\";\r\nimport getConfig from \"node_modules/next/config\";\r\nimport { PropsWithChildren, useEffect, useState } from \"react\";\r\nimport { I18nextProvider } from \"react-i18next\";\r\nimport {trackingPrint} from \"@app/model\"\r\ncheckReloadPage();\r\ni18nInit()\r\n\r\n\r\nfunction checkReloadPage(){\r\n  if(typeof window === 'undefined')return\r\n  if(getConfig().publicRuntimeConfig.isDevelopment){\r\n    return\r\n  }\r\n  if(window.location.href.indexOf('qiniu') == -1)return;\r\n  // 帮我检测url中是否包含_htmlRefreshTime的参数\r\n  // 如果没有，则添加_htmlRefresTime的参数，值为当前时间的毫秒数\r\n  const searchParams = new URL(window.location.href).searchParams\r\n  const htmlRefreshTime = searchParams.get('_htmlRefreshTime')\r\n  if (!htmlRefreshTime) {\r\n    const newUrl = new URL(window.location.href)\r\n    newUrl.searchParams.set('_htmlRefreshTime', String(Date.now()))\r\n    window.location.href = newUrl.toString()\r\n    return\r\n  }\r\n\r\n  const refreshTime = Number(htmlRefreshTime)\r\n  if (refreshTime + 2 * 60 * 1000 < Date.now()) {\r\n    const newUrl = new URL(window.location.href)\r\n    newUrl.searchParams.set('_htmlRefreshTime', String(Date.now()))\r\n    window.location.href = newUrl.toString()\r\n  }\r\n}\r\nconst dynamicKeyMap = new Map<string, boolean>();\r\nexport function AppShell({ children }: PropsWithChildren) {\r\n  const router = useRouter();\r\n  const scrollKey = 'scrollPositionInfo'\r\n  const href = window.location.href.split(\"#\")[0]\r\n  const dynamicKey = `dynamic-${href}`\r\n  const [isOpened] = useState(dynamicKeyMap.get(dynamicKey) === true)\r\n  const s = storeUtils.namespace(dynamicKey);\r\n  let o: Record<string, unknown>|undefined = s.read(dynamicKey)\r\n  if (!o) {\r\n    o = {}\r\n    s.write(dynamicKey, o)\r\n  }\r\n  o = toProxy(o)\r\n  useEffect(() => {\r\n\r\n    router.beforePopState((state) => {\r\n      s.clearAll()\r\n      return true\r\n    })\r\n  })\r\n  useEffect(() => {\r\n    s.write(dynamicKey, o)\r\n    return watchUpdates(o, () => {\r\n      s.write(dynamicKey, o)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(()=>{\r\n    trackingPrint({params:{\r\n      type:\"页面进入\",\r\n      title:\"页面\",\r\n      subtitle:\"发送者-AppShell\",\r\n      extra:{\r\n        href:window.location.href\r\n      }\r\n    }})\r\n  }, [])\r\n  useEffect(() => {\r\n    const info = (s.read(scrollKey) || { x: 0, y: 0 }) as IPageScrollPosition\r\n    // console.log('app shell scroll info info = ', info)\r\n    if (info.x == 0 && info.y == 0) {\r\n      listenScroll()\r\n    } else {\r\n      window.requestAnimationFrame(() => {\r\n        if(isOpened){\r\n          window.scrollTo(info.x, info.y)\r\n        }\r\n        listenScroll()\r\n      })\r\n    }\r\n    function onScroll(e: Event) {\r\n      // console.log('app shell on scroll', { x: window.scrollX, y: window.scrollY })\r\n      s.write(scrollKey, { x: window.scrollX, y: window.scrollY })\r\n    }\r\n    function listenScroll() {\r\n      window.addEventListener('scroll', onScroll)\r\n    }\r\n\r\n    function unsub() {\r\n      window.removeEventListener('scroll', onScroll)\r\n    }\r\n    return unsub\r\n  });\r\n  useEffect(()=>{\r\n    dynamicKeyMap.set(dynamicKey, true)\r\n  },[])\r\n  return (\r\n    <StorePageContext value={s}>\r\n      <StorePageDynamicContext value={o}>\r\n\r\n        <I18nextProvider i18n={i18n}>\r\n          {children}\r\n        </I18nextProvider>\r\n      </StorePageDynamicContext>\r\n    </StorePageContext>\r\n  )\r\n}","\r\nconst map:Record<string, string> = {}\r\n    // 这里可以添加需要映射的文件路径   \r\nexport const fileMapUtils ={\r\n    map,\r\n    getFile(src:string):string{\r\n        return this.map[src] || src;\r\n    }\r\n}","\"use client\";\r\n// 现在用的是这个文件\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\nimport Backend, { type HttpBackendOptions } from \"i18next-http-backend\";\r\n\r\nimport i18next from \"i18next\";\r\nimport { Log } from \"../log/Log\";\r\nimport { getBuildTime, isServer } from \"../nextjs/env/env\";\r\nimport { fileMapUtils } from \"../utils\";\r\n;\r\nexport { useTranslation } from 'react-i18next';\r\nlet fileDateVersion:string = ''// = getConfig().publicRuntimeConfig?.version\r\nexport const i18nLogger = new Log(false, `i18n`);\r\nconst windowHref = (()=>{\r\n  if(typeof window === 'undefined')return ''\r\n  const u = new URL(window.location.href || window.parent?.location.href);\r\n  // 同域文本iframe里的页面会获取不到href，所以判断一下直接用父级的就行.\r\n  return u.origin == null || u.origin == 'null' ? '' : u.origin\r\n})()\r\nconst backendOptions = {\r\n  loadPath: function (lngs: string[], namespaces: string[]) {\r\n    const log = i18nLogger.sub(false, `i18n loadpath`);\r\n    log.pause = true;\r\n    const lng = lngs[0]\r\n    let p = ``\r\n    // p = `/options/_locales/${lngs[0].replace(\"-\", \"_\")}/messages.json`;\r\n    // p = `/locales/zh-CN/ns1/content.json`;\r\n    // p = `locales/${lng}/${namespaces[0]}.json?v=${fileDateVersion}`\r\n    const ps = namespaces[0].split('/')\r\n    ps.splice(ps.length - 1, 0, lng)\r\n    // p = `locales/${ps.join('/')}.json?v=${fileDateVersion}`\r\n    // p = `locales/${ps.join('/')}.json?v=${getBuildTime()}`\r\n    p = `locales/${ps.join('/')}.json`\r\n    log.log(`lngs=`, lngs);\r\n    log.log(`namespaces=`, namespaces);\r\n    log.log(\"p=\", p);\r\n    p = fileMapUtils.getFile(`/${p}`);\r\n    // console.log('map p=', p)\r\n    p = `${windowHref}/${p}`\r\n    return p;\r\n\r\n  },\r\n  parse: function (\r\n    data: string,\r\n    languages?: string | string[],\r\n    namespaces?: string | string[]\r\n  ) {\r\n    const log = i18nLogger.sub(false, `i18n backend parse`);\r\n    log.pause = true;\r\n    // log.log(`parrrse`, data, languages, namespaces);\r\n    const l = JSON.parse(data);\r\n    log.print(`before set i18ndata`);\r\n    // i18nData = l as II18n;\r\n    // log.log(`i18nData.rule.scripts.sys.rules`, i18nData.rule.scripts.sys.rules);\r\n    log.log(`parrrse`, languages, namespaces);\r\n    return l;\r\n  },\r\n};\r\nconst backend = new Backend();\r\nbackend.init(null, backendOptions);\r\nexport const i18n = i18next;\r\n// export const resources: Resource = {\r\n//   // 'zh-CN': {\r\n//   //   translation: _.merge({}, zhCN),\r\n//   // },\r\n//   // en: {\r\n//   //   translation: _.merge({}, en),\r\n//   // },\r\n// };\r\n\r\n\r\ni18n.on(\"languageChanged\", async function (lng) {\r\n  const log = i18nLogger.sub(false, `onlanguageChanged`);\r\n  log.pause = true;\r\n  log.log(`lllllng`, lng);\r\n  // lng = \"en\";\r\n  // const p = `/options/_locales/${lng.replace(\"-\", \"_\")}/messages.json`;\r\n});\r\n\r\n\r\n\r\n\r\nexport function i18nInit(_fileDateVersion:string=''){\r\n  fileDateVersion = _fileDateVersion\r\n  i18n\r\n  .use(LanguageDetector)\r\n  .use(backend)\r\n  .use(initReactI18next)\r\n  .init<HttpBackendOptions>({\r\n    load: \"currentOnly\",\r\n    // load: \"all\",\r\n    // supportedLngs: ['zh-CN', 'zh-TW', 'en', 'en-GB', 'ja'],\r\n    // resources,\r\n    fallbackLng: isServer ? \"en\" : \"zh-CN\",\r\n    // fallbackLng: \"zh-CN\",\r\n    // lng: \"zh-CN\",\r\n    partialBundledLanguages:true,\r\n    ns:[],\r\n    \r\n    debug: false,\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    },\r\n    detection: {\r\n      caches: [\"localStorage\"],\r\n    },\r\n  });\r\n}\r\ni18n.on(\"missingKey\", function (lngs, namespace, key, res) {\r\n  console.error(\r\n    \"i18n mssing key, lngs=%s, namespace=%s, key=%s, res=%s\",\r\n    lngs,\r\n    namespace,\r\n    key,\r\n    res\r\n  );\r\n});\r\n\r\ni18n.on(\"loaded\", function (loaded) {\r\n  const log = i18nLogger.sub(false, `onloaded`);\r\n  log.pause = true;\r\n  log.log(`onloaded arguments`, loaded);\r\n});\r\n\r\ni18n.on(\"failedLoading\", function (lng, ns, msg) {\r\n  const log = i18nLogger.sub(false, `onfailedLoading`);\r\n  log.pause = true;\r\n  log.log(`failedLoading arguments`, lng, ns, msg);\r\n});\r\n\r\ni18n.on(\"added\", function () {\r\n  console.log('added', arguments)\r\n});   \r\n\r\nexport default i18n;","import { ulid } from \"ulid\";\r\nimport { IGroup } from \"../common/IGroup.intf\";\r\nimport { createDefultTriggerAction, ITriggerAction } from \"../trigger-action/ITriggerAction.intf\";\r\nimport { mergeToDefaultData } from \"../utils/mergeToDefaultData\";\r\nexport const triggerActionGroupType = 'triggerActionGroup'\r\nexport interface ITriggerActionGroup extends IGroup<ITriggerAction>{\r\n    type:string\r\n    id:string\r\n    name:string\r\n}\r\n\r\nexport function createDefultTriggerActionGroup():ITriggerActionGroup{\r\n    return {\r\n        type:triggerActionGroupType,\r\n        id:ulid(),\r\n        name:'',\r\n        list:[createDefultTriggerAction()],\r\n        checks:[[true]],\r\n        isSequential:true\r\n    }\r\n}\r\n\r\nexport function mergeTriggerActionGroupToDefultData(data:Partial<ITriggerActionGroup>):ITriggerActionGroup{\r\n    return mergeToDefaultData(createDefultTriggerActionGroup, data)\r\n}","import { isProxy, objectCountUtils, proxyUtils, storeUtils, toParentWatchProxy, watchUpdates } from '@fanfanlo'\r\nimport _ from 'lodash'\r\nimport { createProjectDefultData, IProjectData } from '../project'\r\nimport { createDefultTriggerActionGroup } from '../trigger-action/'\r\nexport const s = storeUtils.namespace('project')\r\nconst listName = 'list'\r\nconst draftName = 'draft'\r\n\r\nfunction loadProjectList():IProjectData[]{\r\n    let list = s.read(listName) as IProjectData[]\r\n    if(!_.isArray(list) || !list)list = []\r\n    const res = prepareProjectList(list)\r\n    return res\r\n}\r\n\r\nfunction loadDraft():IProjectData[]{\r\n    let list = s.read(draftName) as IProjectData[]\r\n    if(!_.isArray(list) || !list)list = []\r\n    const res = prepareProjectList(list)\r\n    return res\r\n}\r\n\r\nfunction prepareProjectList(list:IProjectData[]){\r\n    return list.map(p=>{\r\n        if(!p.triggerActionGroup)p.triggerActionGroup = createDefultTriggerActionGroup()\r\n        return _.merge(createProjectDefultData(), p)\r\n    })\r\n}\r\n\r\nconst list:IProjectData[] = toParentWatchProxy(loadProjectList())\r\nconst draft:IProjectData[] = toParentWatchProxy(loadDraft())\r\nfunction printList(){\r\n    console.log('storage initialize list=', objectCountUtils.getObjectCount(list), list)\r\nlist.forEach((p, index)=>{\r\n    console.log('storage initialize list item=', objectCountUtils.getObjectCount(p), 'index=', index, 'p=',p, 'isproxy=', isProxy(p))\r\n})\r\n}\r\n// printList()\r\nfunction printDraft(){\r\n    console.log('storage initialize draft=', objectCountUtils.getObjectCount(draft), draft)\r\ndraft.forEach((p, index)=>{\r\n    console.log('storage initialize draft item=', objectCountUtils.getObjectCount(p), 'index=', index, 'p=',p, 'isproxy=', isProxy(p))\r\n})\r\n}\r\n// printDraft()\r\nfunction init(){\r\n    watchUpdates(list, ()=>{\r\n        s.write(listName, list, true)\r\n        // console.log('list changed', list)\r\n        // printList()\r\n    })\r\n    watchUpdates(draft, ()=>{\r\n        proxyUtils.runPauseProxyFn(()=>{\r\n            s.write(draftName, draft, true)\r\n            // console.log('draft changed', draft)\r\n        })\r\n        // printDraft()\r\n    })\r\n}\r\n\r\nfunction saveProject(project:IProjectData){\r\n    const copy = _.cloneDeep(project)\r\n    let index = list.findIndex(p=>p.id === copy.id)\r\n    if(index === -1)index = list.length\r\n    list[index] = copy   \r\n    // let draftIndex = draft.findIndex(p=>p.id === copy.id)\r\n    // if(draftIndex > -1){\r\n    //     draft.splice(draftIndex, 1)\r\n    // }\r\n}\r\n\r\nfunction findSavedProject(id:string){\r\n    return list.find(p=>p.id == id)\r\n}\r\n\r\nfunction findProject(id:string){\r\n    return list.find(p=>p.id == id) ||draft.find(p=>p.id == id)\r\n}\r\n\r\nfunction findDraftOrSavedProject(id:string){\r\n    return draft.find(p=>p.id == id) || list.find(p=>p.id == id)\r\n}\r\n\r\nfunction deleteProject(id:string){\r\n    let index = list.findIndex(p=>p.id === id)\r\n    if(index !== -1)list.splice(index, 1)\r\n    s.write(listName, list, true)\r\n    deleteDraft(id)\r\n}\r\n\r\nfunction addDraft(project:IProjectData):IProjectData{\r\n    const p = proxyUtils.runPauseProxyFn(()=>{\r\n        return _.cloneDeep(project)\r\n    })\r\n    let index = draft.findIndex(p=>p.id === project.id)\r\n    if(index == -1)index = draft.length\r\n    draft[index] = p\r\n    return draft[index]\r\n}\r\n\r\nfunction deleteDraft(id:string){\r\n    let index = draft.findIndex(p=>p.id === id)\r\n    if(index !== -1)draft.splice(index, 1)\r\n    s.write(draftName, draft, true)\r\n}\r\n\r\nfunction getListCopy(){\r\n    const res = [...list]\r\n    return res\r\n}\r\n\r\nfunction getDraftCopy(){\r\n    return [...draft]\r\n}\r\nexport const projectStore = {\r\n    list,\r\n    init,\r\n    saveProject,\r\n    findProject,\r\n    deleteProject,\r\n    addDraft,\r\n    deleteDraft,\r\n    draft,\r\n    getListCopy,\r\n    getDraftCopy,\r\n    findDraftOrSavedProject,\r\n    findSavedProject,\r\n}\r\n\r\nif(typeof window !== 'undefined'){\r\n    (window as any).getProjectStore = function(){\r\n        return projectStore\r\n    };\r\n    (window as any).showA = function(s:string){\r\n        alert(s || 'hello')\r\n    }\r\n}","import { createContext } from \"react\";\r\nimport { storeUtils } from \"./store-utils\";\r\n// import { storeUtils } from \"./store\";\r\nconst s = storeUtils.namespace('store-page-context')\r\n\r\nexport interface IPageScrollPosition{\r\n    x:number\r\n    y:number\r\n}\r\n\r\nfunction create(){\r\n    return createContext(s)\r\n}\r\nexport const StorePageContext = createContext<any>(s)\r\n\r\nexport const StorePageDynamicContext = createContext<Record<string, any>>({})","import { isDev, loadI18nValue, useTranslation } from '@fanfanlo';\r\nimport { Box, Button, Container } from '@mui/material';\r\nimport { createContext, PropsWithChildren, useContext, useEffect } from 'react';\r\nimport { ITitleI18nConf } from '.';\r\n\r\n\r\nfunction Reload(){\r\n  if(!isDev)return <>  </>\r\n  const {t} = useTranslation(\"app-ui/components/page/content\")\r\n  return(\r\n    <Box>\r\n      <Button onClick={() => {window.location.reload()}}>{t(\"PageContent.refresh\")}</Button>\r\n      {new Date().toLocaleString()}\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst ScrollP = createContext({ x: 0, y: 0 });\r\nlet index = 0;\r\nexport default function PageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren) {\r\n  index++;\r\n  const scroll = useContext(ScrollP);\r\n  const clazz = `${Date.now() + Math.random() * Date.now()}`;\r\n  useEffect(()=>{\r\n    async function loadTitle(){\r\n      if(!titleConf)return\r\n      let title = titleConf.title\r\n      if(titleConf.ns){\r\n        title = await loadI18nValue(titleConf.ns, titleConf.key || \"content.title\")\r\n      }\r\n      if(!title)return\r\n      document.title = title\r\n    }\r\n    loadTitle()\r\n  }, [])\r\n  useEffect(() => {\r\n    const container = document.getElementsByClassName(clazz)[0];\r\n    if (!container) return;\r\n    container.scrollTop = scroll.y;\r\n    const onScroll = () => {\r\n      var scrollTop = container.scrollTop;\r\n      scroll.y = scrollTop;\r\n    };\r\n    container.removeEventListener('scroll', onScroll);\r\n    container.addEventListener('scroll', onScroll, { passive: true });\r\n    return () => container.removeEventListener('scroll', onScroll);\r\n  }, [clazz, scroll]);\r\n  return (\r\n\r\n    <Container className={clazz} sx={{ \r\n      height: '100%',\r\n      overflow: 'auto', \r\n      padding: \"0px\",\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }}>\r\n      <Box>\r\n        {(reload || (reload == undefined)) && <Reload />}\r\n        \r\n        {children}\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import { PropsWithChildren } from \"react\";\r\nimport PageContent from \"./PageContent\";\r\nimport { ITitleI18nConf } from \".\";\r\nexport default function AndroidPageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren)  {\r\n    return (\r\n        <PageContent titleConf={titleConf} reload={reload}>\r\n            {children}\r\n        </PageContent>\r\n    )\r\n}\r\n","import _ from \"lodash\"\r\nimport { ulid } from \"ulid\"\r\nimport { createDefultTriggerActionGroup, ITriggerActionGroup, mergeTriggerActionGroupToDefultData } from \"../trigger-action/ITriggerActionGroup\"\r\nimport { ExtractedObjectTypeValues } from \"@fanfanlo\"\r\nexport interface IProjectJavaData {\r\n}\r\n\r\nexport interface IProjectShellData{\r\n    id:string\r\n}\r\nexport interface IProjectData{\r\n    id:string\r\n    type:string\r\n    originId?:string\r\n    name?:string\r\n    localName?:string\r\n    triggerActionGroup:ITriggerActionGroup  \r\n}\r\n\r\n// interface IP{\r\n//     name?:string\r\n//     triggerActionGroup:ITriggerActionGroup  \r\n// }\r\n\r\n// type A = ExtractedObjectTypeValues<IP>\r\n// let a:A = 'a'\r\n\r\nexport function createProjectDefultData():IProjectData{\r\n    // console.trace('ppppppppproject createProjectDefultData')\r\n    return {\r\n        type:'project',\r\n        id:ulid(),\r\n        triggerActionGroup:createDefultTriggerActionGroup()\r\n    }\r\n\r\n}\r\n\r\nexport function mergeProjectDataToDefultData(data:Partial<IProjectData>):IProjectData{\r\n    const result = _.merge(createProjectDefultData(), data);\r\n    result.triggerActionGroup = mergeTriggerActionGroupToDefultData(result.triggerActionGroup)\r\n    return result   \r\n}\r\n","import { ulid } from \"ulid\";\r\nimport { IGroup } from \"../common/IGroup.intf\";\r\nimport { IActionData, IActionJavaData, IActionShellData } from \"./IAction.intf\";\r\nimport { createMergeToDefaultData } from \"../utils/mergeToDefaultData\";\r\nexport const actionGroupType = 'actionGroup'\r\nexport interface IActionGroup extends IGroup<IActionData<IActionShellData, IActionJavaData>>{\r\n    type:string\r\n    id:string\r\n}\r\n\r\nfunction createDefultData():IActionGroup{\r\n    return {\r\n        type:actionGroupType,\r\n        id:ulid(),\r\n        list:[],\r\n        checks:[],\r\n        isSequential:true\r\n    }\r\n}\r\n\r\nexport interface IActionGroupUtils{\r\n    type:string\r\n    createDefultData:()=>IActionGroup\r\n    mergeDataToDefultData:(data:Partial<IActionGroup>)=>IActionGroup\r\n}\r\n\r\nexport const actionGroupUtils:IActionGroupUtils = {\r\n    type:actionGroupType,\r\n    createDefultData,\r\n    mergeDataToDefultData:createMergeToDefaultData(createDefultData)\r\n}\r\n","import { ulid } from \"ulid\";\r\nimport { IGroup } from \"../common/IGroup.intf\";\r\nimport { ITriggerData, ITriggerJavaData, ITriggerShellData } from \"./ITrigger.intf\";\r\nimport { createMergeToDefaultData } from \"../utils/mergeToDefaultData\";\r\nexport const triggerGroupType = 'triggerGroup'\r\nexport interface ITriggerGroup extends IGroup<ITriggerData<ITriggerShellData, ITriggerJavaData>>{\r\n    type:string\r\n    id:string\r\n}      \r\n\r\nfunction createDefultData():ITriggerGroup{\r\n    return {\r\n        type:triggerGroupType,\r\n        id:ulid(),\r\n        list:[],\r\n        checks:[],\r\n        isSequential:true\r\n    }\r\n}\r\n\r\nexport interface ITriggerGroupUtils{\r\n    type:string\r\n    createDefultData:()=>ITriggerGroup\r\n    mergeDataToDefultData:(data:Partial<ITriggerGroup>)=>ITriggerGroup\r\n}\r\n\r\nexport const triggerGroupUtils:ITriggerGroupUtils = {\r\n    type:triggerGroupType,\r\n    createDefultData,\r\n    mergeDataToDefultData:createMergeToDefaultData(createDefultData)\r\n}\r\n\r\n","import { ulid } from \"ulid\";\r\nimport { actionGroupUtils, IActionGroup } from \"../action/IActionGroup.intf\";\r\nimport { ITriggerGroup, triggerGroupUtils } from \"../trigger/ITriggerGroup.intf\";\r\nimport { createMergeToDefaultData } from \"../utils/mergeToDefaultData\";\r\nexport interface ITriggerAction{\r\n    type:string\r\n    id:string,\r\n    name:string,\r\n    triggerGroup:ITriggerGroup\r\n    actionGroup:IActionGroup\r\n}\r\n\r\n\r\nexport function createDefultTriggerAction():ITriggerAction{\r\n    return {\r\n        type:'triggerAction',\r\n        id:ulid(),\r\n        name:'',\r\n        triggerGroup:triggerGroupUtils.createDefultData(),\r\n        actionGroup:actionGroupUtils.createDefultData()\r\n    }\r\n}   \r\n\r\nexport interface ITriggerActionUtils{\r\n    type:string\r\n    createDefultData:()=>ITriggerAction\r\n    mergeDataToDefultData:(data:Partial<ITriggerAction>)=>ITriggerAction\r\n}\r\n\r\nexport function createTriggerActionUtils(type:string, createDefultData:()=>ITriggerAction):ITriggerActionUtils{\r\n    return {\r\n        type,\r\n        createDefultData,\r\n        mergeDataToDefultData:createMergeToDefaultData(createDefultData)\r\n    }\r\n}   \r\n\r\n","import _ from \"lodash\"\r\n\r\nexport function mergeToDefaultData<T>(createDefaultData:()=>T,data?:Partial<T>):T{\r\n    // const res = _.mergeWith(createDefaultData(),data, (a,b)=>{\r\n    //     if(_.isArray(a) && _.isArray(b)){\r\n    //         return b\r\n    //     }\r\n    // })\r\n    // return res\r\n    return mergeDataWith(createDefaultData(),data)\r\n}\r\n\r\nexport function mergeDataWith<T>(dist:T, src?:Partial<T>){\r\n    return _.mergeWith(dist, src, (a,b)=>{\r\n        if(_.isArray(a) && _.isArray(b)){\r\n            return b\r\n        }\r\n    })\r\n}\r\nexport function createMergeToDefaultData<T>(createDefaultData:()=>T){\r\n    return (data?:Partial<T>)=>mergeToDefaultData(createDefaultData,data)\r\n}\r\n\r\n"],"names":["getParent","projectDataToUniqueId","data","s","add","name","id","project","triggerActionGroup","triggerAction","triggerGroup","trigger","javaData","actionGroup","action","getProjectByProp","prop","projectData","undefined","getProjectElementByProp","prefix","suffix","getProjectElementsId","getTriggerActionGroupByProp","getTriggerActionGroupElementByProp","getTriggerActionGroupElement","checks","getTriggerActionListByProp","triggerActionList","getTriggerActionListElementByProp","getTriggerActionByProp","getTriggerActionElementByProp","getTriggerGroupByProp","getTriggerGroupElementByProp","getTriggerGroupElement","list","getTriggerListByProp","triggerList","getTriggerListElementByProp","getTriggerByProp","getTriggerElementByProp","getActionGroupByProp","getActionGroupElementByProp","getActionGroupElement","getActionListByProp","actionList","getActionListElementByProp","getActionByProp","getActionElementIdByProp","childData","childToProjectDataUtils","request","tms","trackingPrint","opts","res","TTracking","MTrackingPrint","params","gateway","handler","i18n","i18nInit","StorePageContext","StorePageDynamicContext","toProxy","watchUpdates","storeUtils","useRouter","getConfig","useEffect","useState","I18nextProvider","checkReloadPage","publicRuntimeConfig","isDevelopment","window","location","href","indexOf","searchParams","URL","htmlRefreshTime","get","newUrl","set","String","Date","now","toString","refreshTime","Number","dynamicKeyMap","Map","AppShell","children","router","scrollKey","split","dynamicKey","isOpened","namespace","o","read","write","beforePopState","state","clearAll","type","title","subtitle","extra","info","x","y","listenScroll","requestAnimationFrame","scrollTo","onScroll","e","scrollX","scrollY","addEventListener","unsub","removeEventListener","value","map","fileMapUtils","getFile","src","initReactI18next","LanguageDetector","Backend","i18next","Log","isServer","useTranslation","fileDateVersion","i18nLogger","windowHref","u","parent","origin","backendOptions","loadPath","lngs","namespaces","log","sub","pause","lng","p","ps","splice","length","join","parse","languages","l","JSON","print","backend","init","on","_fileDateVersion","use","load","fallbackLng","partialBundledLanguages","ns","debug","interpolation","escapeValue","detection","caches","key","console","error","loaded","msg","arguments","ulid","createDefultTriggerAction","mergeToDefaultData","triggerActionGroupType","createDefultTriggerActionGroup","isSequential","mergeTriggerActionGroupToDefultData","isProxy","objectCountUtils","proxyUtils","toParentWatchProxy","_","createProjectDefultData","listName","draftName","loadProjectList","isArray","prepareProjectList","loadDraft","merge","draft","printList","getObjectCount","forEach","index","printDraft","runPauseProxyFn","saveProject","copy","cloneDeep","findIndex","findSavedProject","find","findProject","findDraftOrSavedProject","deleteProject","deleteDraft","addDraft","getListCopy","getDraftCopy","projectStore","getProjectStore","showA","alert","createContext","create","isDev","loadI18nValue","Box","Button","Container","useContext","Reload","t","onClick","reload","toLocaleString","ScrollP","PageContent","titleConf","scroll","clazz","Math","random","loadTitle","document","container","getElementsByClassName","scrollTop","passive","className","sx","height","overflow","padding","display","flexDirection","AndroidPageContent","mergeProjectDataToDefultData","result","createMergeToDefaultData","actionGroupType","createDefultData","actionGroupUtils","mergeDataToDefultData","triggerGroupType","triggerGroupUtils","createTriggerActionUtils","createDefaultData","mergeDataWith","dist","mergeWith","a","b"],"sourceRoot":"","ignoreList":[1]}
{"version":3,"file":"static/chunks/3900-1231d27aaa3af5cd.js","mappings":"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","sources":["webpack://_N_E/../../libs/droid/android/src/android/components/PermissionEvent.ts","webpack://_N_E/../../libs/fanfanlo/src/utils/callLater/callLater.ts","webpack://_N_E/../../libs/droid/android/src/android/components/Permission.ts","webpack://_N_E/../../libs/droid/android/src/confs/env.ts","webpack://_N_E/../../libs/droid/android/src/android/win/WindowConf.ts","webpack://_N_E/../../libs/droid/android/src/android/components/permission-storage.ts","webpack://_N_E/../../libs/droid/android/src/android/components/PermissionAskUi.ts","webpack://_N_E/../../libs/droid/android/src/android/components/floatPermission.ts","webpack://_N_E/../../libs/droid/android/src/android/components/A11yPermission.ts","webpack://_N_E/../../libs/droid/android/src/android/components/permissionGroupCreator.ts","webpack://_N_E/../../libs/fanfanlo/src/events/EventDispatcher.ts","webpack://_N_E/../../libs/droid/android/src/android/androidDispatchers.ts","webpack://_N_E/../../libs/fanfanlo/src/events/Event.ts","webpack://_N_E/../../libs/fanfanlo/src/events/DataEvent.ts","webpack://_N_E/../../libs/droid/android/src/android/components/PermissionGroup.ts","webpack://_N_E/../../libs/droid/android/src/android/components/Manifest.ts"],"sourcesContent":["import { DataEvent } from \"@fanfanlo\";\r\nimport { Permission } from \"./Permission\";\r\n\r\n\r\nexport class PermissionEvent extends DataEvent<any>{\r\n    bl:boolean|undefined\r\n    extra:any\r\n    permission!:Permission\r\n    constructor(type:any, bl:boolean|undefined, extra:any, permission:Permission) {\r\n        super(type, {bl, extra, permission});\r\n        this.bl = bl;\r\n        this.extra = extra\r\n        this.permission = permission\r\n    }\r\n\r\n}","import _ from \"lodash\";\r\n\r\ntype Data = {\r\n    fn:()=>void,\r\n    handle:number,\r\n    cancelled:boolean,\r\n}\r\n\r\nconst list:Data[] = [];\r\n// in browser,not supports in nodejs\r\nexport function callLater(fn:()=>void , delay:number, repeatable:boolean = false, ...args:any):Data{\r\n    if(!repeatable){\r\n        removeCallLater(fn)\r\n    }\r\n    let data = {fn, handle:-1, cancelled:false}\r\n    // if in nodejs need to change window an return type\r\n    data.handle = window.setTimeout(()=>{\r\n        if(data.cancelled)return;\r\n        fn.apply(undefined, args)\r\n        remove(data);\r\n    }, delay);\r\n    list.push(data);\r\n    return data;\r\n}\r\n\r\nexport function removeCallLater(fn:()=>void){\r\n    for (let i = 0; i < list.length; i++) {\r\n        let data = list[i];\r\n        if(!data)continue;\r\n        if(data.fn == fn){\r\n            stopClear(data, i)\r\n            return;\r\n        }\r\n    }\r\n}\r\n\r\nfunction remove(data:Data){\r\n    let index = list.indexOf(data);\r\n    stopClear(data, index)\r\n}\r\n\r\nfunction stopClear(data:Data, index:number){\r\n    if(!data)return;\r\n    clearTimeout(data.handle);\r\n    data.cancelled = true;\r\n    if(index >-1){\r\n        list.splice(index, 1)\r\n    }\r\n}\r\n\r\nclass QueueMicroTaskData {\r\n    fn!:()=>void;\r\n    f = ()=> {\r\n        if(this.cancelled)return;\r\n        let fn = this.fn;\r\n        removeQueueMicroTask(this.fn)\r\n        fn()\r\n    }\r\n    cancelled= false\r\n    constructor(fn:()=>void) {\r\n        this.fn = fn\r\n    }\r\n\r\n}\r\n\r\nlet tasks:QueueMicroTaskData[] = []\r\nexport function callQueueMicroTask(fn:()=>void, repeatable:boolean = false){\r\n    let data = new QueueMicroTaskData(fn)\r\n    queueMicrotask(data.f);\r\n    if(!repeatable){\r\n        let res = findTaskByFn(fn)\r\n        if(res){\r\n            stopClearTask(res.data, res.i)\r\n        }\r\n    }\r\n    tasks.push(data);\r\n    return data;\r\n}\r\n\r\nexport function removeQueueMicroTask(fn:()=>void|QueueMicroTaskData){\r\n    if(fn instanceof QueueMicroTaskData){\r\n        let index = tasks.indexOf(fn);\r\n        stopClearTask(fn, index)\r\n    }else if(_.isFunction(fn)){\r\n        let res = findTaskByFn(fn)\r\n        if(res){\r\n            stopClearTask(res.data, res.i)\r\n        }\r\n    }else{\r\n        // warning not found\r\n    }\r\n}\r\n\r\nfunction findTaskByFn(fn:()=>void){\r\n    for (let i = 0; i < tasks.length; i++) {\r\n        let data = tasks[i];\r\n        if(data.fn == fn){\r\n            return {data, i}\r\n        }\r\n    }\r\n    return\r\n}\r\nfunction stopClearTask(data:QueueMicroTaskData, index:number){\r\n    if(!data)return;\r\n    data.cancelled = true;\r\n    if(index > -1){\r\n        tasks.splice(index, 1)\r\n    }\r\n}\r\n\r\nfunction removeTask(data:QueueMicroTaskData){\r\n    let index = tasks.indexOf(data);\r\n    stopClearTask(data, index);\r\n}\r\n\r\n","\r\nimport {autoWebViewJs, AutoWebViewJs} from \"../AutoWebViewJs\";\r\nimport {\r\n    IPermission,\r\n    PermissionConf\r\n} from \"./PermissionInterfaces\";\r\nimport {PermissionEvent} from \"./PermissionEvent\";\r\nimport _ from \"lodash\";\r\nimport { callLater, DataEvent, documentEventTypeDocumentIsShow, EventDispatcher, Log } from \"@fanfanlo\";\r\n\r\nexport class Permission extends EventDispatcher implements IPermission{\r\n    static dispacher = new EventDispatcher();\r\n    static eventPermissionMayUpdated = \"eventPermissionMayUpdated\"\r\n    static eventComplete = \"complete\";\r\n    logger = new Log(false, this.constructor.name)\r\n    conf!:PermissionConf\r\n    // 如果调用过ask，数据类型不匹配会是undefined，授权和未授权是true和false\r\n    isSuccess:boolean|undefined;\r\n    androidPermissionList:string[] = []\r\n    exitFunList :(()=>void)[] = []\r\n    isComplete:boolean = false\r\n    isTerminate:boolean = false\r\n    init(conf:PermissionConf){\r\n        this.conf = conf;\r\n    }\r\n    runCheck(){\r\n        let res:any\r\n        let hasPermission:boolean|undefined;\r\n        let strData:string\r\n        let {print, error, warn, logger} = this.logger.sub(false, \"fn-runCheck\");\r\n        if(this.conf.scripts.check.isRunner){\r\n            res = autoWebViewJs.callScriptRunner(this.conf.scripts.check.script)\r\n            strData = res.runnerResult;\r\n        }else{\r\n            res = autoWebViewJs.callScript(this.conf.scripts.check.script)\r\n            if(res.errMsg){\r\n                error(res.errMsg)\r\n            }\r\n            strData = res.javaResultString;\r\n        }\r\n\r\n        if(strData){\r\n            try {\r\n                hasPermission = JSON.parse(strData)\r\n            }catch (e) {\r\n                error(\"json parese strData\", e)\r\n            }\r\n        }\r\n        return hasPermission\r\n    }\r\n    check(){\r\n        this.isSuccess = undefined;\r\n        let {print, error, warn, logger} = this.logger.sub(false, \"fn_check\");\r\n        let hasPermission = this.runCheck();\r\n        if(!_.isBoolean(hasPermission)){\r\n            error(\"hasPermission is not bool\", hasPermission)\r\n            hasPermission = false;\r\n        }else{\r\n            this.isSuccess = hasPermission;\r\n        }\r\n        if(hasPermission === true){\r\n            callLater(this.complete, 1)\r\n        }\r\n        return this.isSuccess;\r\n    }\r\n    checkOrAsk =()=>{\r\n        this.isTerminate = false;\r\n        this.isComplete = false;\r\n        let hasPermission = this.check();\r\n        if(!hasPermission){\r\n            this.runAsk()\r\n            return false;\r\n        }\r\n        return hasPermission;\r\n    }\r\n    runAsk =()=>{\r\n        this.conf.askUi.show(this)\r\n    }\r\n    ask (){\r\n        let res:any\r\n        if(this.conf.scripts.ask.isRunner){\r\n            res = autoWebViewJs.callScriptRunner(this.conf.scripts.ask.script)\r\n        }else{\r\n            res = autoWebViewJs.callScript(this.conf.scripts.ask.script)\r\n        }\r\n// 在子类里覆写吧\r\n//         this.dispatchMayUpdatedEvent(undefined, undefined)\r\n    }\r\n\r\n    callAsk(): void {\r\n        this.listenAskBack();\r\n        this.ask();\r\n    }\r\n    protected listenAskBack=()=>{\r\n        if(!this.conf.listenResume)return;\r\n        document.addEventListener(documentEventTypeDocumentIsShow, this.onDocumentShow)\r\n    }\r\n    protected onDocumentShow=(e:Event)=>{\r\n        document.removeEventListener(documentEventTypeDocumentIsShow, this.onDocumentShow);\r\n        this.askComplete();\r\n    }\r\n    dispatchMayUpdatedEvent(bl:boolean|undefined = undefined, extra:any|undefined = undefined){\r\n        for (let i = 0; i < this.androidPermissionList.length; i++) {\r\n            let p = this.androidPermissionList[i];\r\n            let event = new PermissionEvent(p, bl, extra, this)\r\n            Permission.dispacher.dispatchEvent(event);\r\n            this.dispatchEvent(event)\r\n        }\r\n    }\r\n\r\n    askComplete=()=>{\r\n        if(this.isComplete){\r\n            return;\r\n        }\r\n        this.check();\r\n        this.dispatchMayUpdatedEvent(this.isSuccess, undefined);\r\n        this.complete();\r\n    }\r\n    complete=()=>{\r\n        this.isComplete = true;\r\n        this.clear();\r\n        this.dispatchEvent(new DataEvent(Permission.eventComplete));\r\n    }\r\n    clear(){\r\n        for (let i = 0; i < this.exitFunList.length; i++) {\r\n            this.exitFunList[i]()\r\n        }\r\n        this.exitFunList.length = 0;\r\n    }\r\n}\r\n","import { isIP } from \"is-ip\"\r\n\r\n\r\nfunction getHtmlOrigin(){\r\n    if(typeof window === \"undefined\")return \"\"\r\n    if(!isIP(window.location.hostname) && window.location.hostname !== \"homepage.vm-ubuntu.droidlego.com\")return window.location.origin + \"/\"\r\n    // return `${window.location.protocol}://${window.location.hostname}:5173/`\r\n    return `${window.location.protocol}//htmls.vm-ubuntu.droidlego.com/`\r\n}\r\nclass Env{\r\n    htmlOrigin:string = getHtmlOrigin()\r\n}\r\nexport const env = new Env()","import {ulid} from \"ulid\";\r\nimport _ from \"lodash\";\r\n\r\nexport type WebViewJsParams = {\r\n    fitContentWidth?:true,\r\n    fitContentHeight?:true,\r\n    javaToJsDataString?:``\r\n}\r\n\r\nexport type WebViewConf = {\r\n    backgroundColor?:0\r\n}\r\n\r\n\r\nexport type HtmlConf = {\r\n    url?:``,\r\n    webViewJsParams?:WebViewJsParams,\r\n    webViewConf?:WebViewConf,\r\n    jsBridgeName?:\"android\",\r\n    webViewJsName?:\"AutoWebViewJs\",\r\n    extra:{\r\n        // javaRunnerId:javaRunner.id,\r\n    }\r\n}\r\nexport type FloatConf = {\r\n    positionSaveName?:\"${positionSaveName}\",\r\n    draggable?:true\r\n}\r\nexport type FloatWindowConf = {\r\n    floatConf?:FloatConf\r\n}\r\n\r\nexport type WindowConf = {\r\n    contentType?:\"html\",\r\n    windowType?:\"float\",\r\n    htmlConf?:HtmlConf,\r\n    floatWindowConf?:FloatWindowConf,\r\n    windowId?:string// ulid()\r\n}\r\n\r\n\r\nexport const webViewJsParams:WebViewJsParams = {\r\n    fitContentWidth:true,\r\n    fitContentHeight:true,\r\n    javaToJsDataString:``\r\n}\r\n\r\nexport const webViewConf:WebViewConf = {\r\n    backgroundColor:0\r\n}\r\n\r\nexport const htmlConf:HtmlConf = {\r\n    url:``,\r\n    webViewJsParams:webViewJsParams,\r\n    webViewConf:webViewConf,\r\n    jsBridgeName:\"android\",\r\n    webViewJsName:\"AutoWebViewJs\",\r\n    extra:{\r\n        // javaRunnerId:javaRunner.id,\r\n    }\r\n}\r\n\r\nexport const floatConf:FloatConf = {\r\n    positionSaveName:\"${positionSaveName}\",\r\n    draggable:true\r\n}\r\nexport const floatWindowConf:FloatWindowConf = {\r\n    floatConf:floatConf\r\n}\r\n\r\nexport const windowConf:WindowConf = {\r\n    contentType:\"html\",\r\n    windowType:\"float\",\r\n    htmlConf:htmlConf,\r\n    floatWindowConf:floatWindowConf,\r\n    windowId:ulid()\r\n}\r\n\r\nexport function createWindowConfCopy(conf:any){\r\n    return _.merge({}, windowConf, conf);\r\n}","import {storeUtils} from '@fanfanlo'\r\nexport const permissionStorage = storeUtils.namespace('permission-droid/android')","import { storage } from \"@fanfanlo\";\r\nimport {IPermission, IPermissionAskUi, PermissionAskUiConf} from \"./PermissionInterfaces\";\r\nimport { permissionStorage } from \"./permission-storage\";\r\n\r\n\r\nexport class PermissionAskUi implements IPermissionAskUi{\r\n    protected permission!:IPermission;\r\n    conf!:PermissionAskUiConf;\r\n    protected dialog:HTMLDialogElement | undefined\r\n    protected exited = false;\r\n    private showDialog=()=>{\r\n        this.initDialog();\r\n    }\r\n    protected getCheckBoxValue(){\r\n        let {storageKey} = this.conf;\r\n        if(!storageKey)return undefined;\r\n        const o = permissionStorage.read(storageKey)\r\n        // const o = {hide:false, time:0} //storage.getItem(storageKey) as any;\r\n        let show = true;\r\n        if(o && o.hide === true){\r\n            let now = Date.now()\r\n            let time = o.time\r\n            let diff = now - time;\r\n            if(diff < 1000 * 60 * 60 * 24 * 15){\r\n                show = false;\r\n            }\r\n        }\r\n        return show;\r\n    }\r\n    protected createDialogInnerHtml(){\r\n        let {text, title, hasCheckBox,checkBoxText,okButtonText, cancelButtonText} = this.conf\r\n        let ct = hasCheckBox ? `<div style=\"flex;flex-direction: row\"><input id=\"permissionAskHideCheckBox\" type=\"checkbox\" />\r\n            <span>${checkBoxText}</span>\r\n            </div> ` :''\r\n        let innerHTML = `<div>\r\n        <div>\r\n        <div style=\"text-align: center\">\r\n        <b>${title}</b>\r\n        </div>\r\n        <p>${text}</p>\r\n        ${ct}\r\n        </div>\r\n        <div style=\"text-align: right;margin-right: 20px\">\r\n        <button id=\"permissionAskCancelButton\" href=\"#\" style=\"margin-right: 20px\">${cancelButtonText}</button>\r\n        <button id=\"permissionAskOkButton\">${okButtonText}</button></div>\r\n        </div>`\r\n        return innerHTML;\r\n    }\r\n    protected initDialog(){\r\n        let checkBoxValue = this.getCheckBoxValue();\r\n        if(checkBoxValue === false){\r\n            this.callAsk();\r\n            this.exit();\r\n            return;\r\n        }\r\n        var dialog = document.createElement(\"dialog\");\r\n        this.dialog = dialog;\r\n        dialog.innerHTML = this.createDialogInnerHtml();\r\n        document.body.appendChild(dialog)\r\n        this.initCloseButton();\r\n        this.initOkButton();\r\n        dialog.showModal();\r\n    }\r\n    protected initCloseButton(){\r\n        let closeBtn = document.getElementById(\"permissionAskCancelButton\")\r\n        if(closeBtn){\r\n            closeBtn.onclick = ()=>{\r\n                this.closeDialog()\r\n            }\r\n        }\r\n    }\r\n    protected initOkButton(){\r\n        let okBtn = document.getElementById(\"permissionAskOkButton\")\r\n        console.log('oooooooooke button=', okBtn)\r\n        if(!okBtn)return;\r\n        console.log('oozz', okBtn, this)\r\n        // okBtn.addEventListener('click', ()=>{\r\n        //     console.log('ffffffffffffff', this)\r\n        // })\r\n        okBtn.onclick =  this.onOkClick.bind(this)\r\n    }\r\n    protected storeCheckValue =()=>{\r\n        let {hasCheckBox, storageKey} = this.conf\r\n        if(!hasCheckBox)return;\r\n        let input = document.getElementById(\"permissionAskHideCheckBox\")\r\n        let checked  = false;\r\n        if(input){\r\n            checked = (input as any)[\"checked\"];\r\n        }\r\n        if(checked){\r\n            let o = {hide:true, time:Date.now()}\r\n            storage.setItem(storageKey, o);\r\n        }\r\n    }\r\n    protected callAsk(){\r\n        this.permission.callAsk();\r\n    }\r\n    protected exit(){\r\n        if(this.exited)return;\r\n        this.exited = true;\r\n    }\r\n    protected closeDialog(){\r\n        this.exit();\r\n        if(!this.dialog)return;\r\n        this.dialog.close();\r\n        document.body.removeChild(this.dialog);\r\n        this.dialog = undefined;\r\n    }\r\n    show =(permission:IPermission)=>{\r\n        this.permission = permission;\r\n        this.showDialog();\r\n    }\r\n    onOkClick(){\r\n        console.log('ooooooooooookkkkk clickedqqq')\r\n        this.storeCheckValue();\r\n        this.callAsk();\r\n        this.closeDialog();\r\n    }\r\n    onCloseClick(){\r\n        this.closeDialog()\r\n    }\r\n}","import { documentEventTypeDocumentIsShow, getI18nT, Log } from \"@fanfanlo\";\r\nimport { androidDispatchers } from \"../androidDispatchers\";\r\nimport { AutoWebViewJs } from \"../AutoWebViewJs\";\r\nimport { WebViewJs } from \"../WebViewJs\";\r\nimport { getTrans } from \"./i18n\";\r\nimport { Manifest } from \"./Manifest\";\r\nimport { Permission } from \"./Permission\";\r\nimport { PermissionAskUi } from \"./PermissionAskUi\";\r\nimport { PermissionAskUiConf, PermissionConf } from \"./PermissionInterfaces\";\r\n\r\n// console.trace('float permission')\r\nlet trans:any\r\nasync function floatpermissionInit(){\r\n    trans = await getI18nT(\"droid-android/android/components/content\")\r\n}\r\nfloatpermissionInit()\r\nfunction callback(isOk:boolean, rejectMsg:string):void{\r\n\r\n}\r\n\r\nfunction createAskScript(eventType:string, id:string){\r\n    let script = `\r\nvar bl = com.fanfanlo.lib.permissions.FloatPermission.openPermission(function(bl){\r\n        webViewJs.callJsEvent(\"${eventType}\", bl, \"${id}\");\r\n    });\r\n    webViewJs.callJsEvent(\"${eventType}\", bl, \"${id}\");\r\n`\r\n    const conf = {\r\n        forceStopTime:0,\r\n        onlyRunSingle :true,\r\n        stopPrevIfOnlyRunSingle: true,\r\n        injects:[[\"webViewJs\"]],\r\n        script\r\n    }\r\n    return AutoWebViewJs.confToScript(conf);\r\n}\r\nfunction createPermissionConf(askUi:PermissionAskUi, eventType:string, id:string){\r\n\r\n    let conf:PermissionConf = {\r\n        askUi: askUi, callback,  permissionId: 0,\r\n        scripts: {\r\n            ask: {\r\n                script:createAskScript(eventType, id),\r\n                isRunner:true\r\n            },\r\n            check: {\r\n                script:`var bl = com.fanfanlo.lib.permissions.FloatPermission.hasPermission();\\n bl;`,\r\n                isRunner:false\r\n            }\r\n        },\r\n        listenResume:false\r\n    }\r\n    return conf\r\n}\r\n\r\nfunction createAskUi(){\r\n    const t = getTrans()\r\n    let conf:PermissionAskUiConf = {\r\n        cancelButtonText: t(\"floatPermission.cancel\"),\r\n        checkBoxText: t(\"floatPermission.checkBoxText\"),\r\n        hasCheckBox: true,\r\n        okButtonText: t(\"floatPermission.ok\"),\r\n        // storageKey: storageKeys.permissions.float.showAsk,\r\n        storageKey: 'storageKeys.permissions.float.showAsk',\r\n        text: t(\"floatPermission.content\"),\r\n        title:t(\"floatPermission.title\")\r\n    }\r\n    let askUi = new PermissionAskUi();\r\n    askUi.conf = conf;\r\n    return askUi\r\n}\r\n\r\nfunction listenAskBackEvent(eventType:string, permission:Permission){\r\n    let print = new Log(false, \"fn-listenAskBackEvent\").print;\r\n\r\n    const index = WebViewJs.instance.shellListen(androidDispatchers.webViewJs.name, eventType, eventType, true, onBack);\r\n    print(\"index is\", index);\r\n    function onBack(data:any){\r\n        print(\"fn-onBack result is\", data)\r\n    }\r\n    document.addEventListener(documentEventTypeDocumentIsShow, onDocumentShow)\r\n    function onDocumentShow(){\r\n        document.removeEventListener(documentEventTypeDocumentIsShow, onDocumentShow)\r\n        let res = WebViewJs.instance.shellRemoveListen(androidDispatchers.webViewJs.name, index);\r\n        permission.askComplete();\r\n        print(\"android listener removeListen\", res);\r\n    }\r\n\r\n}\r\nexport function createFloatPermission(){\r\n    let askUi = createAskUi();\r\n    let id = Date.now().toString()\r\n    let eventType = `onFloatPermissionSettingResult${id}`\r\n    let permissionConf = createPermissionConf(askUi, eventType, id)\r\n    let floatPermission = new FloatPermission();\r\n    floatPermission.conf = permissionConf;\r\n\r\n    return floatPermission;\r\n}\r\n\r\nclass FloatPermission extends Permission{\r\n    constructor() {\r\n        super();\r\n        this.androidPermissionList = [\r\n            Manifest.Permission.SYSTEM_ALERT_WINDOW\r\n        ]\r\n    }\r\n    ask(){\r\n        let id = Date.now().toString()\r\n        let eventType = `onFloatPermissionSettingResult${id}`\r\n        this.conf.scripts.ask.script = createAskScript(eventType, id);\r\n        listenAskBackEvent(eventType, this);\r\n        let res = super.ask();\r\n        this.dispatchMayUpdatedEvent(undefined, undefined)\r\n    }\r\n}\r\n","import {Permission} from \"./Permission\";\r\nimport {autoWebViewJs} from \"../AutoWebViewJs\";\r\nimport {PermissionAskUi} from \"./PermissionAskUi\";\r\nimport {PermissionAskUiConf, PermissionConf} from \"./PermissionInterfaces\";\r\nimport i18n from \"i18next\";\r\nimport {Manifest} from \"./Manifest\";\r\nimport { getTrans } from \"./i18n\";\r\n// import { storageKeys } from \"@droid/data\";\r\n\r\n/**\r\n * ask back data\r\n * class A11yServiceLiveInfo {\r\n *     var hasPermission = false\r\n *     var hasService = false\r\n *     var isAlive = false\r\n *     var pingTime = 0L\r\n *     var test = \"abc\"\r\n * }\r\n */\r\nfunction callback(isOk:boolean, rejectMsg:string):void{\r\n\r\n}\r\n\r\n\r\nfunction createPermissionConf(askUi:PermissionAskUi){\r\n    let conf:PermissionConf = {\r\n        askUi: askUi, callback,  permissionId: 0,\r\n        scripts: {\r\n            ask: {\r\n                script:\"\",\r\n                isRunner:false\r\n            },\r\n            check: {\r\n                script:``,\r\n                isRunner:false\r\n            }\r\n        },\r\n        listenResume:true,\r\n    }\r\n    return conf\r\n}\r\n\r\nfunction createAskUi(){\r\n    const t = getTrans()\r\n    let conf:PermissionAskUiConf = {\r\n        cancelButtonText: t(\"A11yPermission.cancel\"),\r\n        checkBoxText: t(\"A11yPermission.checkBoxText\"),\r\n        hasCheckBox: true,\r\n        okButtonText: t(\"A11yPermission.ok\"),\r\n        // storageKey: storageKeys.permissions.a11y.showAsk,\r\n        storageKey: 'storageKeys.permissions.a11y.showAsk',\r\n        text: t(\"A11yPermission.content\"),\r\n        title:t(\"A11yPermission.title\")\r\n    }\r\n    let askUi = new PermissionAskUi();\r\n    askUi.conf = conf;\r\n    return askUi\r\n}\r\n\r\nexport function createA11yPermission(){\r\n    let askUi = createAskUi();\r\n    let permissionConf = createPermissionConf(askUi)\r\n    let permission = new A11yPermission();\r\n    permission.conf = permissionConf\r\n    return permission;\r\n}\r\n\r\ninterface IA11yResult{\r\n    hasPermission:boolean\r\n}\r\n\r\nexport class A11yPermission extends Permission{\r\n    constructor() {\r\n        super();\r\n        this.androidPermissionList = [\r\n            Manifest.Permission.BIND_ACCESSIBILITY_SERVICE\r\n        ]\r\n    }\r\n    runCheck(){\r\n        let {print, error, warn, logger} = this.logger.sub(false, \"fn_ask\");\r\n        let res = autoWebViewJs.onCallGetA11yServiceLiveInfo<IA11yResult>();\r\n        let {errMsg, javaResultData: data} = res;\r\n        if(errMsg){\r\n            error(errMsg)\r\n            error(errMsg);\r\n            return undefined\r\n        }\r\n        print(\"data2 is\", res);\r\n        // print(\"data3 is\", res?.hasPermission);\r\n        return data?.hasPermission\r\n    }\r\n    ask(){\r\n        autoWebViewJs.onCallOpenA11yPermission()\r\n    }\r\n}","import {createFloatPermission} from \"./floatPermission\";\r\nimport {createA11yPermission} from \"./A11yPermission\";\r\nimport {PermissionGroup} from \"./PermissionGroup\";\r\nimport {Manifest} from \"./Manifest\";\r\nimport {Permission} from \"./Permission\";\r\nconst P = Manifest.Permission;\r\nconst map = {\r\n    [P.BIND_ACCESSIBILITY_SERVICE]:createA11yPermission,\r\n    [P.SYSTEM_ALERT_WINDOW]:createFloatPermission\r\n}\r\nexport function createFloatA11yPermissionGroup(){\r\n    return createPermissionsGroup(P.SYSTEM_ALERT_WINDOW,\r\n        P.BIND_ACCESSIBILITY_SERVICE);\r\n}\r\n\r\nexport function createPermissionsGroup(...args:string[]):PermissionGroup{\r\n    let list:Permission[] = [];\r\n    for (let i = 0; i < args.length; i++) {\r\n        let name = args[i];\r\n        let f = map[name];\r\n        if(!f){\r\n            throw new Error(\"no permission registed \" + name)\r\n        }\r\n        list.push(f())\r\n    }\r\n    let group = new PermissionGroup(list);\r\n    return group;\r\n}\r\n\r\nexport async function runPermissionGroup(...permissions:string[]):Promise<PermissionGroup>{\r\n    return new Promise((resolve, reject)=>{\r\n        let group = createPermissionsGroup(...permissions);\r\n        group.addEventListener(PermissionGroup.eventComplete, ()=>{\r\n            console.log('runPermissionGroup_fn in Promise group=', group, 'permissions=', permissions, 'isSuccess=', group.isSuccess);\r\n            if(group.isSuccess){\r\n                resolve(group);\r\n            }else{\r\n                reject(group);\r\n            }\r\n        })\r\n        group.run();\r\n    })\r\n}","import { IEventHandler, IEventDispatcherEventMap, IEventDispatcherProperties } from './IEventDispatcher';\r\nimport { Event } from './Event';\r\n\r\ntype Listeners = IEventHandler[];\r\ntype ListenMap = Map<unknown, Listeners>; //Record<any, Listeners>\r\ntype OnceListener = Map<IEventHandler, IEventHandler>;\r\ntype OnceListeners = Map<unknown, OnceListener>; //Record<unknown, Record<any, any>>\r\nexport class EventDispatcher {\r\n  private listenDomainMap: Map<unknown, ListenMap> = new Map();\r\n  private listenMap: ListenMap = new Map<unknown, Listeners>();\r\n  private onceListeners: OnceListeners = new Map<unknown, OnceListener>();\r\n  addDomainEventListener<T extends IEventDispatcherEventMap>(\r\n    domain: unknown,\r\n    type: keyof T | unknown,\r\n    cb: T[keyof T] | IEventHandler,\r\n    index?: number,\r\n  ): void {\r\n    let _domain = this.listenDomainMap.get(domain);\r\n    if (!_domain) {\r\n      _domain = new Map();\r\n      this.listenDomainMap.set(domain, _domain);\r\n    }\r\n    let listeners = _domain.get(type);\r\n    if (!listeners) {\r\n      listeners = [];\r\n      _domain.set(type, listeners);\r\n    }\r\n    if (listeners.indexOf(cb as IEventHandler) == -1) listeners.push(cb as IEventHandler);\r\n    this.addEventListener(type, cb, index);\r\n  }\r\n\r\n  addDomainOnceListener<T extends IEventDispatcherEventMap>(\r\n    domain: unknown,\r\n    type: keyof T,\r\n    cb: T[keyof T],\r\n    index?: number,\r\n  ): void {\r\n    this.addOnceListener(type, cb, index, domain);\r\n  }\r\n\r\n  addEventListener<T extends IEventDispatcherEventMap>(\r\n    type: keyof T | unknown,\r\n    cb: T[keyof T] | IEventHandler,\r\n    index?: number,\r\n  ): void {\r\n    if (type === '') {\r\n      try {\r\n        throw new Error('addDomainEventListener error no type');\r\n      } catch (e) {\r\n        console.log('EventDispatcher2', 'addDomainEventListener', 'err', type, e);\r\n      }\r\n    }\r\n    if (typeof cb != 'function') {\r\n      try {\r\n        throw new Error('addDomainEventListener error no cb');\r\n      } catch (e) {\r\n        console.log('EventDispatcher2', 'addDomainEventListener', 'err', cb, e);\r\n      }\r\n    }\r\n    let listeners = this.listenMap.get(type);\r\n    if (!listeners) {\r\n      listeners = [];\r\n      this.listenMap.set(type, listeners);\r\n    }\r\n    const _index = listeners.indexOf(cb as IEventHandler);\r\n    if (_index > -1) listeners.splice(_index, 1);\r\n    if (index == undefined || index < 0) index = listeners.length;\r\n    index = Math.max(0, Math.min(index, listeners.length));\r\n    listeners.splice(index, 0, cb as IEventHandler);\r\n  }\r\n\r\n  addEventListenerOnce<T extends IEventDispatcherEventMap>(type: keyof T, cb: T[keyof T], index?: number): T[keyof T] {\r\n    return this.addOnceListener(type, cb, index, undefined);\r\n  }\r\n\r\n  private onceListenerCb<T extends IEventDispatcherEventMap>(\r\n    type: keyof T,\r\n    onEvent: T[keyof T],\r\n    domain?: unknown,\r\n  ): T[keyof T] {\r\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n    const that = this;\r\n    return function (...args: unknown[]) {\r\n      // onEvent(event);\r\n      if (typeof onEvent === 'function') {\r\n        onEvent(...args);\r\n      } else {\r\n        console.error(onEvent);\r\n        console.log(...args);\r\n        throw new Error('onEvent not a function');\r\n      }\r\n      // eslint-disable-next-line prefer-spread,@typescript-eslint/ban-types\r\n      // (onEvent as Function).apply(null, args)\r\n      // const listeners = that.onceListeners[type];\r\n      const listeners = that.onceListeners.get(type);\r\n      if (!listeners) return;\r\n      if (domain) that.removeDomainEventListener(domain, type, listeners.get(onEvent as IEventHandler) as T[keyof T]);\r\n      else that.removeEventListener(type, listeners.get(onEvent as IEventHandler) as T[keyof T]);\r\n    }.bind(this) as T[keyof T];\r\n  }\r\n  addOnceListener<T extends IEventDispatcherEventMap>(\r\n    type: keyof T,\r\n    onEvent: T[keyof T],\r\n    index?: number,\r\n    domain?: unknown,\r\n  ): T[keyof T] {\r\n    // let listeners = this.onceListeners[type];\r\n    let listeners = this.onceListeners.get(type);\r\n    if (!listeners) {\r\n      listeners = new Map();\r\n      this.onceListeners.set(type, listeners);\r\n    }\r\n\r\n    const fn = this.onceListenerCb<T>(type, onEvent, domain);\r\n    listeners.set(onEvent as IEventHandler, fn as IEventHandler);\r\n    domain ? this.addDomainEventListener(domain, type, fn, index) : this.addEventListener(type, fn, index);\r\n    return fn;\r\n  }\r\n\r\n  dispatchArgs<T extends IEventDispatcherEventMap>(type: keyof T, ...rest: unknown[]): boolean {\r\n    const listeners = this.listenMap.get(type);\r\n    if (!listeners) return false;\r\n    for (let i = 0, len = listeners.length; i < len; i++) {\r\n      listeners[i].apply(null, rest);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  dispatchEvent(event?: Event): boolean {\r\n    if (!event || !event.type) return true;\r\n    const listeners = this.listenMap.get(event.type);\r\n    if (!listeners) {\r\n      return false;\r\n    }\r\n    (event as any)[event._target] = this;\r\n    for (let i = 0, len = listeners.length; i < len; i++) {\r\n      if (event.canceled) return false;\r\n      try {\r\n        listeners[i](event);\r\n      } catch (e) {\r\n        console.log('EventDispatcher2', 'dispatchEvent', 'err', e);\r\n        console.log('event is', event);\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  removeDomain(domain: unknown): boolean {\r\n    const domainMap = this.listenDomainMap.get(domain);\r\n    if (!domainMap) return false;\r\n    for (const type in domainMap) {\r\n      domainMap.get(type)?.forEach((cb: IEventHandler) => {\r\n        try {\r\n          this.removeEventListener(type as keyof IEventDispatcherEventMap, cb);\r\n        } catch (e) {\r\n          console.log('eventdispatcher2', 'removedomain', 'err', e);\r\n        }\r\n      }, this);\r\n    }\r\n    this.listenDomainMap.delete(domain);\r\n    return true;\r\n  }\r\n\r\n  removeDomainEventListener<T extends IEventDispatcherEventMap>(\r\n    domain: unknown,\r\n    type: keyof T,\r\n    cb: T[keyof T],\r\n  ): boolean {\r\n    const domainMap = this.listenDomainMap.get(domain);\r\n    if (!domainMap) return false;\r\n    const listeners = domainMap.get(type);\r\n    if (!listeners) return false;\r\n    const index = listeners.indexOf(cb as IEventHandler);\r\n    if (index == -1) return false;\r\n    listeners.splice(index, 1);\r\n    return this.removeEventListener(type, cb);\r\n  }\r\n\r\n  removeEventListener<T extends IEventDispatcherEventMap>(type: keyof T, cb: T[keyof T]): boolean {\r\n    const listeners = this.listenMap.get(type);\r\n    if (!listeners) return false;\r\n    const index = listeners.indexOf(cb as IEventHandler);\r\n    if (index == -1) {\r\n      return false;\r\n    } else {\r\n      listeners.splice(index, 1);\r\n      return true;\r\n    }\r\n  }\r\n\r\n  willTrigger<T extends IEventDispatcherEventMap>(type: keyof T | unknown): boolean {\r\n    const l = this.listenMap.get(type);\r\n    return !l || l.length == 0 ? false : true;\r\n    // return this.listenMap.get(type) !== undefined && this.listenMap.get(type)?.length > 0;\r\n  }\r\n  // add<T extends object>(type:IEventDispatcherProperties<T>) {}\r\n}\r\n","\r\nexport const androidDispatchers = {\r\n    WebViewJsDispatcher:{\r\n        name:\"WebViewJsDispatcher\",\r\n        comment:\"全局单例类\"\r\n    },\r\n    Window:{\r\n        name:\"Window\",\r\n        comment: \"窗口类单例，可以用来侦听窗口的dismiss事件\"\r\n    },\r\n    webViewJs:{\r\n        name:\"webViewJs\",\r\n        comment:\"当前窗口被注入的android webviewjs\"\r\n    }\r\n}","import _ from \"lodash\";\r\n\r\nexport class Event{\r\n    public type: unknown;\r\n    public cancelable: boolean;\r\n    public canceled: boolean;\r\n    public _target: string = \"Event.target\";\r\n    constructor(type:unknown, cancelable = false) {\r\n        this.type = type;\r\n        this.cancelable = cancelable;\r\n        this.canceled = false;\r\n    }\r\n    get target() {\r\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        return this[this._target];\r\n    }\r\n\r\n    toString() {\r\n        const res = {};\r\n        _.each(Object.keys(this), (key) => {\r\n            if (key === 'data') {\r\n                // console.log('key is ', key, this[key])\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n            // @ts-ignore\r\n            res[key] = this[key]\r\n        });\r\n        return res;\r\n    }\r\n}","\r\nimport {Event} from \"./Event\";\r\n\r\nexport class DataEvent<T> extends Event{\r\n  public data?: T;\r\n\r\n  constructor(type:unknown, data?:T, cancelable = false) {\r\n    super(type, cancelable);\r\n    this.data = data;\r\n    // this[this._target] = null;\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\nexport type Event2Any = DataEvent<any>","import { DataEvent, EventDispatcher, Log } from \"@fanfanlo\";\r\nimport { Permission } from \"./Permission\";\r\n\r\ntype Callback = (group:PermissionGroup, isSuccess:boolean)=>void\r\nexport class PermissionGroup extends EventDispatcher{\r\n    static eventComplete = \"complete\";\r\n    permissions!:Permission[]\r\n    private index = -1;\r\n    logger = new Log(false, this.constructor.name)\r\n    private callback?:Callback;\r\n    constructor(permissions:Permission[] = []) {\r\n        super();\r\n        // this.logger = Log.createCountedLogger(false, this.constructor.name)\r\n        this.permissions = permissions\r\n    }\r\n    run=()=>{\r\n        this.checkNext();\r\n    }\r\n    private runPermission=()=>{\r\n        console.log('runPermission_fn', 'index=', this.index, 'permissions.length=', this.permissions.length);\r\n        if(this.permissions.length < this.index){\r\n            throw new Error(\"permission index out of bounds\")\r\n        }\r\n        let p = this.permissions[this.index];\r\n        p.addDomainEventListener<any>(this, Permission.eventComplete, this.onPermissionComplete)\r\n        p.checkOrAsk();\r\n    }\r\n\r\n    private onPermissionComplete=<T>(e:DataEvent<T>)=>{\r\n        e.target.removeDomain(this);\r\n        this.checkNext();\r\n    }\r\n    private checkNext =()=>{\r\n        console.log('checkNext_fn', 'index=', this.index, 'permissions.length=', this.permissions.length);\r\n        this.index++;\r\n        if(this.index >= this.permissions.length){\r\n            return this.dispatchComplete()\r\n        }\r\n        this.runPermission();\r\n    }\r\n    private dispatchComplete =()=>{\r\n        console.log('dispatchComplete_fn', 'isSuccess=', this.isSuccess, 'index=', this.index);\r\n        this.dispatchEvent(new DataEvent(PermissionGroup.eventComplete))\r\n        this.callback?.(this, this.isSuccess);\r\n    }\r\n    exit=()=>{\r\n        for (let i = 0; i < this.permissions.length; i++) {\r\n            this.permissions[i].removeDomain(this);\r\n        }\r\n    }\r\n    get isSuccess(){\r\n        let {print, error, warn, logger} = this.logger.sub(false, \"fn_isSuccess\");\r\n        for (let i = 0; i < this.permissions.length; i++) {\r\n            let p = this.permissions[i];\r\n            print(`permission is ${p.constructor.name}, success is ${p.isSuccess}`)\r\n            if(!p.isSuccess)return false;\r\n        }\r\n        return true\r\n    }\r\n    addCallback(callback:Callback){\r\n        this.callback = callback;\r\n        return this;\r\n    }\r\n}\r\n","\r\nclass PermissionGroup{\r\n\r\n    static ACTIVITY_RECOGNITION = \"android.permission-group.ACTIVITY_RECOGNITION\";\r\n    static CALENDAR = \"android.permission-group.CALENDAR\";\r\n    static CALL_LOG = \"android.permission-group.CALL_LOG\";\r\n    static CAMERA = \"android.permission-group.CAMERA\";\r\n    static CONTACTS = \"android.permission-group.CONTACTS\";\r\n    static LOCATION = \"android.permission-group.LOCATION\";\r\n    static MICROPHONE = \"android.permission-group.MICROPHONE\";\r\n    static NEARBY_DEVICES = \"android.permission-group.NEARBY_DEVICES\";\r\n    static NOTIFICATIONS = \"android.permission-group.NOTIFICATIONS\";\r\n    static PHONE = \"android.permission-group.PHONE\";\r\n    static READ_MEDIA_AURAL = \"android.permission-group.READ_MEDIA_AURAL\";\r\n    static READ_MEDIA_VISUAL = \"android.permission-group.READ_MEDIA_VISUAL\";\r\n    static SENSORS = \"android.permission-group.SENSORS\";\r\n    static SMS = \"android.permission-group.SMS\";\r\n    static STORAGE = \"android.permission-group.STORAGE\";\r\n}\r\nclass Permission{\r\n\r\n    static ACCEPT_HANDOVER = \"android.permission.ACCEPT_HANDOVER\";\r\n    static ACCESS_BACKGROUND_LOCATION = \"android.permission.ACCESS_BACKGROUND_LOCATION\";\r\n    static ACCESS_BLOBS_ACROSS_USERS = \"android.permission.ACCESS_BLOBS_ACROSS_USERS\";\r\n    static ACCESS_CHECKIN_PROPERTIES = \"android.permission.ACCESS_CHECKIN_PROPERTIES\";\r\n    static ACCESS_COARSE_LOCATION = \"android.permission.ACCESS_COARSE_LOCATION\";\r\n    static ACCESS_FINE_LOCATION = \"android.permission.ACCESS_FINE_LOCATION\";\r\n    static ACCESS_LOCATION_EXTRA_COMMANDS = \"android.permission.ACCESS_LOCATION_EXTRA_COMMANDS\";\r\n    static ACCESS_MEDIA_LOCATION = \"android.permission.ACCESS_MEDIA_LOCATION\";\r\n    static ACCESS_NETWORK_STATE = \"android.permission.ACCESS_NETWORK_STATE\";\r\n    static ACCESS_NOTIFICATION_POLICY = \"android.permission.ACCESS_NOTIFICATION_POLICY\";\r\n    static ACCESS_WIFI_STATE = \"android.permission.ACCESS_WIFI_STATE\";\r\n    static ACCOUNT_MANAGER = \"android.permission.ACCOUNT_MANAGER\";\r\n    static ACTIVITY_RECOGNITION = \"android.permission.ACTIVITY_RECOGNITION\";\r\n    static ADD_VOICEMAIL = \"com.android.voicemail.permission.ADD_VOICEMAIL\";\r\n    static ANSWER_PHONE_CALLS = \"android.permission.ANSWER_PHONE_CALLS\";\r\n    static BATTERY_STATS = \"android.permission.BATTERY_STATS\";\r\n    static BIND_ACCESSIBILITY_SERVICE = \"android.permission.BIND_ACCESSIBILITY_SERVICE\";\r\n    static BIND_APPWIDGET = \"android.permission.BIND_APPWIDGET\";\r\n    static BIND_AUTOFILL_SERVICE = \"android.permission.BIND_AUTOFILL_SERVICE\";\r\n    static BIND_CALL_REDIRECTION_SERVICE = \"android.permission.BIND_CALL_REDIRECTION_SERVICE\";\r\n    static BIND_CARRIER_MESSAGING_CLIENT_SERVICE = \"android.permission.BIND_CARRIER_MESSAGING_CLIENT_SERVICE\";\r\n    /** @deprecated */\r\n\r\n    static BIND_CARRIER_MESSAGING_SERVICE = \"android.permission.BIND_CARRIER_MESSAGING_SERVICE\";\r\n    static BIND_CARRIER_SERVICES = \"android.permission.BIND_CARRIER_SERVICES\";\r\n    /** @deprecated */\r\n\r\n    static BIND_CHOOSER_TARGET_SERVICE = \"android.permission.BIND_CHOOSER_TARGET_SERVICE\";\r\n    static BIND_COMPANION_DEVICE_SERVICE = \"android.permission.BIND_COMPANION_DEVICE_SERVICE\";\r\n    static BIND_CONDITION_PROVIDER_SERVICE = \"android.permission.BIND_CONDITION_PROVIDER_SERVICE\";\r\n    static BIND_CONTROLS = \"android.permission.BIND_CONTROLS\";\r\n    static BIND_CREDENTIAL_PROVIDER_SERVICE = \"android.permission.BIND_CREDENTIAL_PROVIDER_SERVICE\";\r\n    static BIND_DEVICE_ADMIN = \"android.permission.BIND_DEVICE_ADMIN\";\r\n    static BIND_DREAM_SERVICE = \"android.permission.BIND_DREAM_SERVICE\";\r\n    static BIND_INCALL_SERVICE = \"android.permission.BIND_INCALL_SERVICE\";\r\n    static BIND_INPUT_METHOD = \"android.permission.BIND_INPUT_METHOD\";\r\n    static BIND_MIDI_DEVICE_SERVICE = \"android.permission.BIND_MIDI_DEVICE_SERVICE\";\r\n    static BIND_NFC_SERVICE = \"android.permission.BIND_NFC_SERVICE\";\r\n    static BIND_NOTIFICATION_LISTENER_SERVICE = \"android.permission.BIND_NOTIFICATION_LISTENER_SERVICE\";\r\n    static BIND_PRINT_SERVICE = \"android.permission.BIND_PRINT_SERVICE\";\r\n    static BIND_QUICK_ACCESS_WALLET_SERVICE = \"android.permission.BIND_QUICK_ACCESS_WALLET_SERVICE\";\r\n    static BIND_QUICK_SETTINGS_TILE = \"android.permission.BIND_QUICK_SETTINGS_TILE\";\r\n    static BIND_REMOTEVIEWS = \"android.permission.BIND_REMOTEVIEWS\";\r\n    static BIND_SCREENING_SERVICE = \"android.permission.BIND_SCREENING_SERVICE\";\r\n    static BIND_TELECOM_CONNECTION_SERVICE = \"android.permission.BIND_TELECOM_CONNECTION_SERVICE\";\r\n    static BIND_TEXT_SERVICE = \"android.permission.BIND_TEXT_SERVICE\";\r\n    static BIND_TV_INPUT = \"android.permission.BIND_TV_INPUT\";\r\n    static BIND_TV_INTERACTIVE_APP = \"android.permission.BIND_TV_INTERACTIVE_APP\";\r\n    static BIND_VISUAL_VOICEMAIL_SERVICE = \"android.permission.BIND_VISUAL_VOICEMAIL_SERVICE\";\r\n    static BIND_VOICE_INTERACTION = \"android.permission.BIND_VOICE_INTERACTION\";\r\n    static BIND_VPN_SERVICE = \"android.permission.BIND_VPN_SERVICE\";\r\n    static BIND_VR_LISTENER_SERVICE = \"android.permission.BIND_VR_LISTENER_SERVICE\";\r\n    static BIND_WALLPAPER = \"android.permission.BIND_WALLPAPER\";\r\n    static BLUETOOTH = \"android.permission.BLUETOOTH\";\r\n    static BLUETOOTH_ADMIN = \"android.permission.BLUETOOTH_ADMIN\";\r\n    static BLUETOOTH_ADVERTISE = \"android.permission.BLUETOOTH_ADVERTISE\";\r\n    static BLUETOOTH_CONNECT = \"android.permission.BLUETOOTH_CONNECT\";\r\n    static BLUETOOTH_PRIVILEGED = \"android.permission.BLUETOOTH_PRIVILEGED\";\r\n    static BLUETOOTH_SCAN = \"android.permission.BLUETOOTH_SCAN\";\r\n    static BODY_SENSORS = \"android.permission.BODY_SENSORS\";\r\n    static BODY_SENSORS_BACKGROUND = \"android.permission.BODY_SENSORS_BACKGROUND\";\r\n    static BROADCAST_PACKAGE_REMOVED = \"android.permission.BROADCAST_PACKAGE_REMOVED\";\r\n    static BROADCAST_SMS = \"android.permission.BROADCAST_SMS\";\r\n    static BROADCAST_STICKY = \"android.permission.BROADCAST_STICKY\";\r\n    static BROADCAST_WAP_PUSH = \"android.permission.BROADCAST_WAP_PUSH\";\r\n    static CALL_COMPANION_APP = \"android.permission.CALL_COMPANION_APP\";\r\n    static CALL_PHONE = \"android.permission.CALL_PHONE\";\r\n    static CALL_PRIVILEGED = \"android.permission.CALL_PRIVILEGED\";\r\n    static CAMERA = \"android.permission.CAMERA\";\r\n    static CAPTURE_AUDIO_OUTPUT = \"android.permission.CAPTURE_AUDIO_OUTPUT\";\r\n    static CHANGE_COMPONENT_ENABLED_STATE = \"android.permission.CHANGE_COMPONENT_ENABLED_STATE\";\r\n    static CHANGE_CONFIGURATION = \"android.permission.CHANGE_CONFIGURATION\";\r\n    static CHANGE_NETWORK_STATE = \"android.permission.CHANGE_NETWORK_STATE\";\r\n    static CHANGE_WIFI_MULTICAST_STATE = \"android.permission.CHANGE_WIFI_MULTICAST_STATE\";\r\n    static CHANGE_WIFI_STATE = \"android.permission.CHANGE_WIFI_STATE\";\r\n    static CLEAR_APP_CACHE = \"android.permission.CLEAR_APP_CACHE\";\r\n    static CONFIGURE_WIFI_DISPLAY = \"android.permission.CONFIGURE_WIFI_DISPLAY\";\r\n    static CONTROL_LOCATION_UPDATES = \"android.permission.CONTROL_LOCATION_UPDATES\";\r\n    static CREDENTIAL_MANAGER_QUERY_CANDIDATE_CREDENTIALS = \"android.permission.CREDENTIAL_MANAGER_QUERY_CANDIDATE_CREDENTIALS\";\r\n    static CREDENTIAL_MANAGER_SET_ALLOWED_PROVIDERS = \"android.permission.CREDENTIAL_MANAGER_SET_ALLOWED_PROVIDERS\";\r\n    static CREDENTIAL_MANAGER_SET_ORIGIN = \"android.permission.CREDENTIAL_MANAGER_SET_ORIGIN\";\r\n    static DELETE_CACHE_FILES = \"android.permission.DELETE_CACHE_FILES\";\r\n    static DELETE_PACKAGES = \"android.permission.DELETE_PACKAGES\";\r\n    static DELIVER_COMPANION_MESSAGES = \"android.permission.DELIVER_COMPANION_MESSAGES\";\r\n    static DETECT_SCREEN_CAPTURE = \"android.permission.DETECT_SCREEN_CAPTURE\";\r\n    static DIAGNOSTIC = \"android.permission.DIAGNOSTIC\";\r\n    static DISABLE_KEYGUARD = \"android.permission.DISABLE_KEYGUARD\";\r\n    static DUMP = \"android.permission.DUMP\";\r\n    static ENFORCE_UPDATE_OWNERSHIP = \"android.permission.ENFORCE_UPDATE_OWNERSHIP\";\r\n    static EXECUTE_APP_ACTION = \"android.permission.EXECUTE_APP_ACTION\";\r\n    static EXPAND_STATUS_BAR = \"android.permission.EXPAND_STATUS_BAR\";\r\n    static FACTORY_TEST = \"android.permission.FACTORY_TEST\";\r\n    static FOREGROUND_SERVICE = \"android.permission.FOREGROUND_SERVICE\";\r\n    static FOREGROUND_SERVICE_CAMERA = \"android.permission.FOREGROUND_SERVICE_CAMERA\";\r\n    static FOREGROUND_SERVICE_CONNECTED_DEVICE = \"android.permission.FOREGROUND_SERVICE_CONNECTED_DEVICE\";\r\n    static FOREGROUND_SERVICE_DATA_SYNC = \"android.permission.FOREGROUND_SERVICE_DATA_SYNC\";\r\n    static FOREGROUND_SERVICE_HEALTH = \"android.permission.FOREGROUND_SERVICE_HEALTH\";\r\n    static FOREGROUND_SERVICE_LOCATION = \"android.permission.FOREGROUND_SERVICE_LOCATION\";\r\n    static FOREGROUND_SERVICE_MEDIA_PLAYBACK = \"android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK\";\r\n    static FOREGROUND_SERVICE_MEDIA_PROJECTION = \"android.permission.FOREGROUND_SERVICE_MEDIA_PROJECTION\";\r\n    static FOREGROUND_SERVICE_MICROPHONE = \"android.permission.FOREGROUND_SERVICE_MICROPHONE\";\r\n    static FOREGROUND_SERVICE_PHONE_CALL = \"android.permission.FOREGROUND_SERVICE_PHONE_CALL\";\r\n    static FOREGROUND_SERVICE_REMOTE_MESSAGING = \"android.permission.FOREGROUND_SERVICE_REMOTE_MESSAGING\";\r\n    static FOREGROUND_SERVICE_SPECIAL_USE = \"android.permission.FOREGROUND_SERVICE_SPECIAL_USE\";\r\n    static FOREGROUND_SERVICE_SYSTEM_EXEMPTED = \"android.permission.FOREGROUND_SERVICE_SYSTEM_EXEMPTED\";\r\n    static GET_ACCOUNTS = \"android.permission.GET_ACCOUNTS\";\r\n    static GET_ACCOUNTS_PRIVILEGED = \"android.permission.GET_ACCOUNTS_PRIVILEGED\";\r\n    static GET_PACKAGE_SIZE = \"android.permission.GET_PACKAGE_SIZE\";\r\n    /** @deprecated */\r\n\r\n    static GET_TASKS = \"android.permission.GET_TASKS\";\r\n    static GLOBAL_SEARCH = \"android.permission.GLOBAL_SEARCH\";\r\n    static HIDE_OVERLAY_WINDOWS = \"android.permission.HIDE_OVERLAY_WINDOWS\";\r\n    static HIGH_SAMPLING_RATE_SENSORS = \"android.permission.HIGH_SAMPLING_RATE_SENSORS\";\r\n    static INSTALL_LOCATION_PROVIDER = \"android.permission.INSTALL_LOCATION_PROVIDER\";\r\n    static INSTALL_PACKAGES = \"android.permission.INSTALL_PACKAGES\";\r\n    static INSTALL_SHORTCUT = \"com.android.launcher.permission.INSTALL_SHORTCUT\";\r\n    static INSTANT_APP_FOREGROUND_SERVICE = \"android.permission.INSTANT_APP_FOREGROUND_SERVICE\";\r\n    static INTERACT_ACROSS_PROFILES = \"android.permission.INTERACT_ACROSS_PROFILES\";\r\n    static INTERNET = \"android.permission.INTERNET\";\r\n    static KILL_BACKGROUND_PROCESSES = \"android.permission.KILL_BACKGROUND_PROCESSES\";\r\n    static LAUNCH_CAPTURE_CONTENT_ACTIVITY_FOR_NOTE = \"android.permission.LAUNCH_CAPTURE_CONTENT_ACTIVITY_FOR_NOTE\";\r\n    static LAUNCH_MULTI_PANE_SETTINGS_DEEP_LINK = \"android.permission.LAUNCH_MULTI_PANE_SETTINGS_DEEP_LINK\";\r\n    static LOADER_USAGE_STATS = \"android.permission.LOADER_USAGE_STATS\";\r\n    static LOCATION_HARDWARE = \"android.permission.LOCATION_HARDWARE\";\r\n    static MANAGE_DEVICE_LOCK_STATE = \"android.permission.MANAGE_DEVICE_LOCK_STATE\";\r\n    static MANAGE_DEVICE_POLICY_ACCESSIBILITY = \"android.permission.MANAGE_DEVICE_POLICY_ACCESSIBILITY\";\r\n    static MANAGE_DEVICE_POLICY_ACCOUNT_MANAGEMENT = \"android.permission.MANAGE_DEVICE_POLICY_ACCOUNT_MANAGEMENT\";\r\n    static MANAGE_DEVICE_POLICY_ACROSS_USERS = \"android.permission.MANAGE_DEVICE_POLICY_ACROSS_USERS\";\r\n    static MANAGE_DEVICE_POLICY_ACROSS_USERS_FULL = \"android.permission.MANAGE_DEVICE_POLICY_ACROSS_USERS_FULL\";\r\n    static MANAGE_DEVICE_POLICY_ACROSS_USERS_SECURITY_CRITICAL = \"android.permission.MANAGE_DEVICE_POLICY_ACROSS_USERS_SECURITY_CRITICAL\";\r\n    static MANAGE_DEVICE_POLICY_AIRPLANE_MODE = \"android.permission.MANAGE_DEVICE_POLICY_AIRPLANE_MODE\";\r\n    static MANAGE_DEVICE_POLICY_APPS_CONTROL = \"android.permission.MANAGE_DEVICE_POLICY_APPS_CONTROL\";\r\n    static MANAGE_DEVICE_POLICY_APP_RESTRICTIONS = \"android.permission.MANAGE_DEVICE_POLICY_APP_RESTRICTIONS\";\r\n    static MANAGE_DEVICE_POLICY_APP_USER_DATA = \"android.permission.MANAGE_DEVICE_POLICY_APP_USER_DATA\";\r\n    static MANAGE_DEVICE_POLICY_AUDIO_OUTPUT = \"android.permission.MANAGE_DEVICE_POLICY_AUDIO_OUTPUT\";\r\n    static MANAGE_DEVICE_POLICY_AUTOFILL = \"android.permission.MANAGE_DEVICE_POLICY_AUTOFILL\";\r\n    static MANAGE_DEVICE_POLICY_BACKUP_SERVICE = \"android.permission.MANAGE_DEVICE_POLICY_BACKUP_SERVICE\";\r\n    static MANAGE_DEVICE_POLICY_BLUETOOTH = \"android.permission.MANAGE_DEVICE_POLICY_BLUETOOTH\";\r\n    static MANAGE_DEVICE_POLICY_BUGREPORT = \"android.permission.MANAGE_DEVICE_POLICY_BUGREPORT\";\r\n    static MANAGE_DEVICE_POLICY_CALLS = \"android.permission.MANAGE_DEVICE_POLICY_CALLS\";\r\n    static MANAGE_DEVICE_POLICY_CAMERA = \"android.permission.MANAGE_DEVICE_POLICY_CAMERA\";\r\n    static MANAGE_DEVICE_POLICY_CERTIFICATES = \"android.permission.MANAGE_DEVICE_POLICY_CERTIFICATES\";\r\n    static MANAGE_DEVICE_POLICY_COMMON_CRITERIA_MODE = \"android.permission.MANAGE_DEVICE_POLICY_COMMON_CRITERIA_MODE\";\r\n    static MANAGE_DEVICE_POLICY_DEBUGGING_FEATURES = \"android.permission.MANAGE_DEVICE_POLICY_DEBUGGING_FEATURES\";\r\n    static MANAGE_DEVICE_POLICY_DEFAULT_SMS = \"android.permission.MANAGE_DEVICE_POLICY_DEFAULT_SMS\";\r\n    static MANAGE_DEVICE_POLICY_DEVICE_IDENTIFIERS = \"android.permission.MANAGE_DEVICE_POLICY_DEVICE_IDENTIFIERS\";\r\n    static MANAGE_DEVICE_POLICY_DISPLAY = \"android.permission.MANAGE_DEVICE_POLICY_DISPLAY\";\r\n    static MANAGE_DEVICE_POLICY_FACTORY_RESET = \"android.permission.MANAGE_DEVICE_POLICY_FACTORY_RESET\";\r\n    static MANAGE_DEVICE_POLICY_FUN = \"android.permission.MANAGE_DEVICE_POLICY_FUN\";\r\n    static MANAGE_DEVICE_POLICY_INPUT_METHODS = \"android.permission.MANAGE_DEVICE_POLICY_INPUT_METHODS\";\r\n    static MANAGE_DEVICE_POLICY_INSTALL_UNKNOWN_SOURCES = \"android.permission.MANAGE_DEVICE_POLICY_INSTALL_UNKNOWN_SOURCES\";\r\n    static MANAGE_DEVICE_POLICY_KEEP_UNINSTALLED_PACKAGES = \"android.permission.MANAGE_DEVICE_POLICY_KEEP_UNINSTALLED_PACKAGES\";\r\n    static MANAGE_DEVICE_POLICY_KEYGUARD = \"android.permission.MANAGE_DEVICE_POLICY_KEYGUARD\";\r\n    static MANAGE_DEVICE_POLICY_LOCALE = \"android.permission.MANAGE_DEVICE_POLICY_LOCALE\";\r\n    static MANAGE_DEVICE_POLICY_LOCATION = \"android.permission.MANAGE_DEVICE_POLICY_LOCATION\";\r\n    static MANAGE_DEVICE_POLICY_LOCK = \"android.permission.MANAGE_DEVICE_POLICY_LOCK\";\r\n    static MANAGE_DEVICE_POLICY_LOCK_CREDENTIALS = \"android.permission.MANAGE_DEVICE_POLICY_LOCK_CREDENTIALS\";\r\n    static MANAGE_DEVICE_POLICY_LOCK_TASK = \"android.permission.MANAGE_DEVICE_POLICY_LOCK_TASK\";\r\n    static MANAGE_DEVICE_POLICY_METERED_DATA = \"android.permission.MANAGE_DEVICE_POLICY_METERED_DATA\";\r\n    static MANAGE_DEVICE_POLICY_MICROPHONE = \"android.permission.MANAGE_DEVICE_POLICY_MICROPHONE\";\r\n    static MANAGE_DEVICE_POLICY_MOBILE_NETWORK = \"android.permission.MANAGE_DEVICE_POLICY_MOBILE_NETWORK\";\r\n    static MANAGE_DEVICE_POLICY_MODIFY_USERS = \"android.permission.MANAGE_DEVICE_POLICY_MODIFY_USERS\";\r\n    static MANAGE_DEVICE_POLICY_MTE = \"android.permission.MANAGE_DEVICE_POLICY_MTE\";\r\n    static MANAGE_DEVICE_POLICY_NEARBY_COMMUNICATION = \"android.permission.MANAGE_DEVICE_POLICY_NEARBY_COMMUNICATION\";\r\n    static MANAGE_DEVICE_POLICY_NETWORK_LOGGING = \"android.permission.MANAGE_DEVICE_POLICY_NETWORK_LOGGING\";\r\n    static MANAGE_DEVICE_POLICY_ORGANIZATION_IDENTITY = \"android.permission.MANAGE_DEVICE_POLICY_ORGANIZATION_IDENTITY\";\r\n    static MANAGE_DEVICE_POLICY_OVERRIDE_APN = \"android.permission.MANAGE_DEVICE_POLICY_OVERRIDE_APN\";\r\n    static MANAGE_DEVICE_POLICY_PACKAGE_STATE = \"android.permission.MANAGE_DEVICE_POLICY_PACKAGE_STATE\";\r\n    static MANAGE_DEVICE_POLICY_PHYSICAL_MEDIA = \"android.permission.MANAGE_DEVICE_POLICY_PHYSICAL_MEDIA\";\r\n    static MANAGE_DEVICE_POLICY_PRINTING = \"android.permission.MANAGE_DEVICE_POLICY_PRINTING\";\r\n    static MANAGE_DEVICE_POLICY_PRIVATE_DNS = \"android.permission.MANAGE_DEVICE_POLICY_PRIVATE_DNS\";\r\n    static MANAGE_DEVICE_POLICY_PROFILES = \"android.permission.MANAGE_DEVICE_POLICY_PROFILES\";\r\n    static MANAGE_DEVICE_POLICY_PROFILE_INTERACTION = \"android.permission.MANAGE_DEVICE_POLICY_PROFILE_INTERACTION\";\r\n    static MANAGE_DEVICE_POLICY_PROXY = \"android.permission.MANAGE_DEVICE_POLICY_PROXY\";\r\n    static MANAGE_DEVICE_POLICY_QUERY_SYSTEM_UPDATES = \"android.permission.MANAGE_DEVICE_POLICY_QUERY_SYSTEM_UPDATES\";\r\n    static MANAGE_DEVICE_POLICY_RESET_PASSWORD = \"android.permission.MANAGE_DEVICE_POLICY_RESET_PASSWORD\";\r\n    static MANAGE_DEVICE_POLICY_RESTRICT_PRIVATE_DNS = \"android.permission.MANAGE_DEVICE_POLICY_RESTRICT_PRIVATE_DNS\";\r\n    static MANAGE_DEVICE_POLICY_RUNTIME_PERMISSIONS = \"android.permission.MANAGE_DEVICE_POLICY_RUNTIME_PERMISSIONS\";\r\n    static MANAGE_DEVICE_POLICY_RUN_IN_BACKGROUND = \"android.permission.MANAGE_DEVICE_POLICY_RUN_IN_BACKGROUND\";\r\n    static MANAGE_DEVICE_POLICY_SAFE_BOOT = \"android.permission.MANAGE_DEVICE_POLICY_SAFE_BOOT\";\r\n    static MANAGE_DEVICE_POLICY_SCREEN_CAPTURE = \"android.permission.MANAGE_DEVICE_POLICY_SCREEN_CAPTURE\";\r\n    static MANAGE_DEVICE_POLICY_SCREEN_CONTENT = \"android.permission.MANAGE_DEVICE_POLICY_SCREEN_CONTENT\";\r\n    static MANAGE_DEVICE_POLICY_SECURITY_LOGGING = \"android.permission.MANAGE_DEVICE_POLICY_SECURITY_LOGGING\";\r\n    static MANAGE_DEVICE_POLICY_SETTINGS = \"android.permission.MANAGE_DEVICE_POLICY_SETTINGS\";\r\n    static MANAGE_DEVICE_POLICY_SMS = \"android.permission.MANAGE_DEVICE_POLICY_SMS\";\r\n    static MANAGE_DEVICE_POLICY_STATUS_BAR = \"android.permission.MANAGE_DEVICE_POLICY_STATUS_BAR\";\r\n    static MANAGE_DEVICE_POLICY_SUPPORT_MESSAGE = \"android.permission.MANAGE_DEVICE_POLICY_SUPPORT_MESSAGE\";\r\n    static MANAGE_DEVICE_POLICY_SUSPEND_PERSONAL_APPS = \"android.permission.MANAGE_DEVICE_POLICY_SUSPEND_PERSONAL_APPS\";\r\n    static MANAGE_DEVICE_POLICY_SYSTEM_APPS = \"android.permission.MANAGE_DEVICE_POLICY_SYSTEM_APPS\";\r\n    static MANAGE_DEVICE_POLICY_SYSTEM_DIALOGS = \"android.permission.MANAGE_DEVICE_POLICY_SYSTEM_DIALOGS\";\r\n    static MANAGE_DEVICE_POLICY_SYSTEM_UPDATES = \"android.permission.MANAGE_DEVICE_POLICY_SYSTEM_UPDATES\";\r\n    static MANAGE_DEVICE_POLICY_TIME = \"android.permission.MANAGE_DEVICE_POLICY_TIME\";\r\n    static MANAGE_DEVICE_POLICY_USB_DATA_SIGNALLING = \"android.permission.MANAGE_DEVICE_POLICY_USB_DATA_SIGNALLING\";\r\n    static MANAGE_DEVICE_POLICY_USB_FILE_TRANSFER = \"android.permission.MANAGE_DEVICE_POLICY_USB_FILE_TRANSFER\";\r\n    static MANAGE_DEVICE_POLICY_USERS = \"android.permission.MANAGE_DEVICE_POLICY_USERS\";\r\n    static MANAGE_DEVICE_POLICY_VPN = \"android.permission.MANAGE_DEVICE_POLICY_VPN\";\r\n    static MANAGE_DEVICE_POLICY_WALLPAPER = \"android.permission.MANAGE_DEVICE_POLICY_WALLPAPER\";\r\n    static MANAGE_DEVICE_POLICY_WIFI = \"android.permission.MANAGE_DEVICE_POLICY_WIFI\";\r\n    static MANAGE_DEVICE_POLICY_WINDOWS = \"android.permission.MANAGE_DEVICE_POLICY_WINDOWS\";\r\n    static MANAGE_DEVICE_POLICY_WIPE_DATA = \"android.permission.MANAGE_DEVICE_POLICY_WIPE_DATA\";\r\n    static MANAGE_DOCUMENTS = \"android.permission.MANAGE_DOCUMENTS\";\r\n    static MANAGE_EXTERNAL_STORAGE = \"android.permission.MANAGE_EXTERNAL_STORAGE\";\r\n    static MANAGE_MEDIA = \"android.permission.MANAGE_MEDIA\";\r\n    static MANAGE_ONGOING_CALLS = \"android.permission.MANAGE_ONGOING_CALLS\";\r\n    static MANAGE_OWN_CALLS = \"android.permission.MANAGE_OWN_CALLS\";\r\n    static MANAGE_WIFI_INTERFACES = \"android.permission.MANAGE_WIFI_INTERFACES\";\r\n    static MANAGE_WIFI_NETWORK_SELECTION = \"android.permission.MANAGE_WIFI_NETWORK_SELECTION\";\r\n    static MASTER_CLEAR = \"android.permission.MASTER_CLEAR\";\r\n    static MEDIA_CONTENT_CONTROL = \"android.permission.MEDIA_CONTENT_CONTROL\";\r\n    static MODIFY_AUDIO_SETTINGS = \"android.permission.MODIFY_AUDIO_SETTINGS\";\r\n    static MODIFY_PHONE_STATE = \"android.permission.MODIFY_PHONE_STATE\";\r\n    static MOUNT_FORMAT_FILESYSTEMS = \"android.permission.MOUNT_FORMAT_FILESYSTEMS\";\r\n    static MOUNT_UNMOUNT_FILESYSTEMS = \"android.permission.MOUNT_UNMOUNT_FILESYSTEMS\";\r\n    static NEARBY_WIFI_DEVICES = \"android.permission.NEARBY_WIFI_DEVICES\";\r\n    static NFC = \"android.permission.NFC\";\r\n    static NFC_PREFERRED_PAYMENT_INFO = \"android.permission.NFC_PREFERRED_PAYMENT_INFO\";\r\n    static NFC_TRANSACTION_EVENT = \"android.permission.NFC_TRANSACTION_EVENT\";\r\n    static OVERRIDE_WIFI_CONFIG = \"android.permission.OVERRIDE_WIFI_CONFIG\";\r\n    static PACKAGE_USAGE_STATS = \"android.permission.PACKAGE_USAGE_STATS\";\r\n    /** @deprecated */\r\n\r\n    static PERSISTENT_ACTIVITY = \"android.permission.PERSISTENT_ACTIVITY\";\r\n    static POST_NOTIFICATIONS = \"android.permission.POST_NOTIFICATIONS\";\r\n    /** @deprecated */\r\n\r\n    static PROCESS_OUTGOING_CALLS = \"android.permission.PROCESS_OUTGOING_CALLS\";\r\n    static PROVIDE_OWN_AUTOFILL_SUGGESTIONS = \"android.permission.PROVIDE_OWN_AUTOFILL_SUGGESTIONS\";\r\n    static PROVIDE_REMOTE_CREDENTIALS = \"android.permission.PROVIDE_REMOTE_CREDENTIALS\";\r\n    static QUERY_ALL_PACKAGES = \"android.permission.QUERY_ALL_PACKAGES\";\r\n    static READ_ASSISTANT_APP_SEARCH_DATA = \"android.permission.READ_ASSISTANT_APP_SEARCH_DATA\";\r\n    static READ_BASIC_PHONE_STATE = \"android.permission.READ_BASIC_PHONE_STATE\";\r\n    static READ_CALENDAR = \"android.permission.READ_CALENDAR\";\r\n    static READ_CALL_LOG = \"android.permission.READ_CALL_LOG\";\r\n    static READ_CONTACTS = \"android.permission.READ_CONTACTS\";\r\n    static READ_EXTERNAL_STORAGE = \"android.permission.READ_EXTERNAL_STORAGE\";\r\n    static READ_HOME_APP_SEARCH_DATA = \"android.permission.READ_HOME_APP_SEARCH_DATA\";\r\n    /** @deprecated */\r\n\r\n    static READ_INPUT_STATE = \"android.permission.READ_INPUT_STATE\";\r\n    static READ_LOGS = \"android.permission.READ_LOGS\";\r\n    static READ_MEDIA_AUDIO = \"android.permission.READ_MEDIA_AUDIO\";\r\n    static READ_MEDIA_IMAGES = \"android.permission.READ_MEDIA_IMAGES\";\r\n    static READ_MEDIA_VIDEO = \"android.permission.READ_MEDIA_VIDEO\";\r\n    static READ_MEDIA_VISUAL_USER_SELECTED = \"android.permission.READ_MEDIA_VISUAL_USER_SELECTED\";\r\n    static READ_NEARBY_STREAMING_POLICY = \"android.permission.READ_NEARBY_STREAMING_POLICY\";\r\n    static READ_PHONE_NUMBERS = \"android.permission.READ_PHONE_NUMBERS\";\r\n    static READ_PHONE_STATE = \"android.permission.READ_PHONE_STATE\";\r\n    static READ_PRECISE_PHONE_STATE = \"android.permission.READ_PRECISE_PHONE_STATE\";\r\n    static READ_SMS = \"android.permission.READ_SMS\";\r\n    static READ_SYNC_SETTINGS = \"android.permission.READ_SYNC_SETTINGS\";\r\n    static READ_SYNC_STATS = \"android.permission.READ_SYNC_STATS\";\r\n    static READ_VOICEMAIL = \"com.android.voicemail.permission.READ_VOICEMAIL\";\r\n    static REBOOT = \"android.permission.REBOOT\";\r\n    static RECEIVE_BOOT_COMPLETED = \"android.permission.RECEIVE_BOOT_COMPLETED\";\r\n    static RECEIVE_MMS = \"android.permission.RECEIVE_MMS\";\r\n    static RECEIVE_SMS = \"android.permission.RECEIVE_SMS\";\r\n    static RECEIVE_WAP_PUSH = \"android.permission.RECEIVE_WAP_PUSH\";\r\n    static RECORD_AUDIO = \"android.permission.RECORD_AUDIO\";\r\n    static REORDER_TASKS = \"android.permission.REORDER_TASKS\";\r\n    static REQUEST_COMPANION_PROFILE_APP_STREAMING = \"android.permission.REQUEST_COMPANION_PROFILE_APP_STREAMING\";\r\n    static REQUEST_COMPANION_PROFILE_AUTOMOTIVE_PROJECTION = \"android.permission.REQUEST_COMPANION_PROFILE_AUTOMOTIVE_PROJECTION\";\r\n    static REQUEST_COMPANION_PROFILE_COMPUTER = \"android.permission.REQUEST_COMPANION_PROFILE_COMPUTER\";\r\n    static REQUEST_COMPANION_PROFILE_GLASSES = \"android.permission.REQUEST_COMPANION_PROFILE_GLASSES\";\r\n    static REQUEST_COMPANION_PROFILE_NEARBY_DEVICE_STREAMING = \"android.permission.REQUEST_COMPANION_PROFILE_NEARBY_DEVICE_STREAMING\";\r\n    static REQUEST_COMPANION_PROFILE_WATCH = \"android.permission.REQUEST_COMPANION_PROFILE_WATCH\";\r\n    static REQUEST_COMPANION_RUN_IN_BACKGROUND = \"android.permission.REQUEST_COMPANION_RUN_IN_BACKGROUND\";\r\n    static REQUEST_COMPANION_SELF_MANAGED = \"android.permission.REQUEST_COMPANION_SELF_MANAGED\";\r\n    static REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND = \"android.permission.REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND\";\r\n    static REQUEST_COMPANION_USE_DATA_IN_BACKGROUND = \"android.permission.REQUEST_COMPANION_USE_DATA_IN_BACKGROUND\";\r\n    static REQUEST_DELETE_PACKAGES = \"android.permission.REQUEST_DELETE_PACKAGES\";\r\n    static REQUEST_IGNORE_BATTERY_OPTIMIZATIONS = \"android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS\";\r\n    static REQUEST_INSTALL_PACKAGES = \"android.permission.REQUEST_INSTALL_PACKAGES\";\r\n    static REQUEST_OBSERVE_COMPANION_DEVICE_PRESENCE = \"android.permission.REQUEST_OBSERVE_COMPANION_DEVICE_PRESENCE\";\r\n    static REQUEST_PASSWORD_COMPLEXITY = \"android.permission.REQUEST_PASSWORD_COMPLEXITY\";\r\n    /** @deprecated */\r\n\r\n    static RESTART_PACKAGES = \"android.permission.RESTART_PACKAGES\";\r\n    static RUN_USER_INITIATED_JOBS = \"android.permission.RUN_USER_INITIATED_JOBS\";\r\n    static SCHEDULE_EXACT_ALARM = \"android.permission.SCHEDULE_EXACT_ALARM\";\r\n    static SEND_RESPOND_VIA_MESSAGE = \"android.permission.SEND_RESPOND_VIA_MESSAGE\";\r\n    static SEND_SMS = \"android.permission.SEND_SMS\";\r\n    static SET_ALARM = \"com.android.alarm.permission.SET_ALARM\";\r\n    static SET_ALWAYS_FINISH = \"android.permission.SET_ALWAYS_FINISH\";\r\n    static SET_ANIMATION_SCALE = \"android.permission.SET_ANIMATION_SCALE\";\r\n    static SET_DEBUG_APP = \"android.permission.SET_DEBUG_APP\";\r\n    /** @deprecated */\r\n\r\n    static SET_PREFERRED_APPLICATIONS = \"android.permission.SET_PREFERRED_APPLICATIONS\";\r\n    static SET_PROCESS_LIMIT = \"android.permission.SET_PROCESS_LIMIT\";\r\n    static SET_TIME = \"android.permission.SET_TIME\";\r\n    static SET_TIME_ZONE = \"android.permission.SET_TIME_ZONE\";\r\n    static SET_WALLPAPER = \"android.permission.SET_WALLPAPER\";\r\n    static SET_WALLPAPER_HINTS = \"android.permission.SET_WALLPAPER_HINTS\";\r\n    static SIGNAL_PERSISTENT_PROCESSES = \"android.permission.SIGNAL_PERSISTENT_PROCESSES\";\r\n    /** @deprecated */\r\n\r\n    static SMS_FINANCIAL_TRANSACTIONS = \"android.permission.SMS_FINANCIAL_TRANSACTIONS\";\r\n    static START_FOREGROUND_SERVICES_FROM_BACKGROUND = \"android.permission.START_FOREGROUND_SERVICES_FROM_BACKGROUND\";\r\n    static START_VIEW_APP_FEATURES = \"android.permission.START_VIEW_APP_FEATURES\";\r\n    static START_VIEW_PERMISSION_USAGE = \"android.permission.START_VIEW_PERMISSION_USAGE\";\r\n    static STATUS_BAR = \"android.permission.STATUS_BAR\";\r\n    static SUBSCRIBE_TO_KEYGUARD_LOCKED_STATE = \"android.permission.SUBSCRIBE_TO_KEYGUARD_LOCKED_STATE\";\r\n    // 浮窗\r\n    static SYSTEM_ALERT_WINDOW = \"android.permission.SYSTEM_ALERT_WINDOW\";\r\n    static TRANSMIT_IR = \"android.permission.TRANSMIT_IR\";\r\n    static TURN_SCREEN_ON = \"android.permission.TURN_SCREEN_ON\";\r\n    static UNINSTALL_SHORTCUT = \"com.android.launcher.permission.UNINSTALL_SHORTCUT\";\r\n    static UPDATE_DEVICE_STATS = \"android.permission.UPDATE_DEVICE_STATS\";\r\n    static UPDATE_PACKAGES_WITHOUT_USER_ACTION = \"android.permission.UPDATE_PACKAGES_WITHOUT_USER_ACTION\";\r\n    static USE_BIOMETRIC = \"android.permission.USE_BIOMETRIC\";\r\n    static USE_EXACT_ALARM = \"android.permission.USE_EXACT_ALARM\";\r\n    /** @deprecated */\r\n\r\n    static USE_FINGERPRINT = \"android.permission.USE_FINGERPRINT\";\r\n    static USE_FULL_SCREEN_INTENT = \"android.permission.USE_FULL_SCREEN_INTENT\";\r\n    static USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER = \"android.permission.USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER\";\r\n    static USE_SIP = \"android.permission.USE_SIP\";\r\n    static UWB_RANGING = \"android.permission.UWB_RANGING\";\r\n    static VIBRATE = \"android.permission.VIBRATE\";\r\n    static WAKE_LOCK = \"android.permission.WAKE_LOCK\";\r\n    static WRITE_APN_SETTINGS = \"android.permission.WRITE_APN_SETTINGS\";\r\n    static WRITE_CALENDAR = \"android.permission.WRITE_CALENDAR\";\r\n    static WRITE_CALL_LOG = \"android.permission.WRITE_CALL_LOG\";\r\n    static WRITE_CONTACTS = \"android.permission.WRITE_CONTACTS\";\r\n    static WRITE_EXTERNAL_STORAGE = \"android.permission.WRITE_EXTERNAL_STORAGE\";\r\n    static WRITE_GSERVICES = \"android.permission.WRITE_GSERVICES\";\r\n    static WRITE_SECURE_SETTINGS = \"android.permission.WRITE_SECURE_SETTINGS\";\r\n    static WRITE_SETTINGS = \"android.permission.WRITE_SETTINGS\";\r\n    static WRITE_SYNC_SETTINGS = \"android.permission.WRITE_SYNC_SETTINGS\";\r\n    static WRITE_VOICEMAIL = \"com.android.voicemail.permission.WRITE_VOICEMAIL\";\r\n}\r\nexport type PermissionType = keyof Permission\r\nexport class Manifest{\r\n    static Permission = Permission;\r\n    static PermissionGroup = PermissionGroup;\r\n}\r\n\r\n"],"names":["DataEvent","PermissionEvent","constructor","type","bl","extra","permission","_","list","callLater","fn","delay","repeatable","args","removeCallLater","data","handle","cancelled","window","setTimeout","apply","undefined","remove","push","i","length","stopClear","index","indexOf","clearTimeout","splice","QueueMicroTaskData","f","removeQueueMicroTask","tasks","callQueueMicroTask","queueMicrotask","res","findTaskByFn","stopClearTask","isFunction","removeTask","autoWebViewJs","documentEventTypeDocumentIsShow","EventDispatcher","Log","Permission","init","conf","runCheck","hasPermission","strData","print","error","warn","logger","sub","scripts","check","isRunner","callScriptRunner","script","runnerResult","callScript","errMsg","javaResultString","JSON","parse","e","isSuccess","isBoolean","complete","ask","callAsk","listenAskBack","dispatchMayUpdatedEvent","androidPermissionList","p","event","dispacher","dispatchEvent","clear","exitFunList","name","isComplete","isTerminate","checkOrAsk","runAsk","askUi","show","listenResume","document","addEventListener","onDocumentShow","removeEventListener","askComplete","eventComplete","eventPermissionMayUpdated","isIP","getHtmlOrigin","location","hostname","origin","protocol","Env","htmlOrigin","env","ulid","webViewJsParams","fitContentWidth","fitContentHeight","javaToJsDataString","webViewConf","backgroundColor","htmlConf","url","jsBridgeName","webViewJsName","floatConf","positionSaveName","draggable","floatWindowConf","windowConf","contentType","windowType","windowId","createWindowConfCopy","merge","storeUtils","permissionStorage","namespace","storage","PermissionAskUi","getCheckBoxValue","storageKey","o","read","hide","now","Date","time","diff","createDialogInnerHtml","text","title","hasCheckBox","checkBoxText","okButtonText","cancelButtonText","ct","innerHTML","initDialog","checkBoxValue","exit","dialog","createElement","body","appendChild","initCloseButton","initOkButton","showModal","closeBtn","getElementById","onclick","closeDialog","okBtn","console","log","onOkClick","bind","exited","close","removeChild","storeCheckValue","onCloseClick","showDialog","input","checked","setItem","getI18nT","androidDispatchers","AutoWebViewJs","WebViewJs","getTrans","Manifest","trans","floatpermissionInit","callback","isOk","rejectMsg","createAskScript","eventType","id","forceStopTime","onlyRunSingle","stopPrevIfOnlyRunSingle","injects","confToScript","createPermissionConf","permissionId","createAskUi","t","listenAskBackEvent","instance","shellListen","webViewJs","onBack","shellRemoveListen","createFloatPermission","toString","permissionConf","floatPermission","FloatPermission","SYSTEM_ALERT_WINDOW","createA11yPermission","A11yPermission","onCallGetA11yServiceLiveInfo","javaResultData","onCallOpenA11yPermission","BIND_ACCESSIBILITY_SERVICE","PermissionGroup","P","map","createFloatA11yPermissionGroup","createPermissionsGroup","Error","group","runPermissionGroup","permissions","Promise","resolve","reject","run","addDomainEventListener","domain","cb","_domain","listenDomainMap","get","Map","set","listeners","addDomainOnceListener","addOnceListener","listenMap","_index","Math","max","min","addEventListenerOnce","onceListenerCb","onEvent","that","onceListeners","removeDomainEventListener","dispatchArgs","rest","len","_target","canceled","removeDomain","domainMap","forEach","delete","willTrigger","l","WebViewJsDispatcher","comment","Window","Event","target","each","Object","keys","key","cancelable","addCallback","checkNext","runPermission","onPermissionComplete","dispatchComplete","ACTIVITY_RECOGNITION","CALENDAR","CALL_LOG","CAMERA","CONTACTS","LOCATION","MICROPHONE","NEARBY_DEVICES","NOTIFICATIONS","PHONE","READ_MEDIA_AURAL","READ_MEDIA_VISUAL","SENSORS","SMS","STORAGE","ACCEPT_HANDOVER","ACCESS_BACKGROUND_LOCATION","ACCESS_BLOBS_ACROSS_USERS","ACCESS_CHECKIN_PROPERTIES","ACCESS_COARSE_LOCATION","ACCESS_FINE_LOCATION","ACCESS_LOCATION_EXTRA_COMMANDS","ACCESS_MEDIA_LOCATION","ACCESS_NETWORK_STATE","ACCESS_NOTIFICATION_POLICY","ACCESS_WIFI_STATE","ACCOUNT_MANAGER","ADD_VOICEMAIL","ANSWER_PHONE_CALLS","BATTERY_STATS","BIND_APPWIDGET","BIND_AUTOFILL_SERVICE","BIND_CALL_REDIRECTION_SERVICE","BIND_CARRIER_MESSAGING_CLIENT_SERVICE","BIND_CARRIER_MESSAGING_SERVICE","BIND_CARRIER_SERVICES","BIND_CHOOSER_TARGET_SERVICE","BIND_COMPANION_DEVICE_SERVICE","BIND_CONDITION_PROVIDER_SERVICE","BIND_CONTROLS","BIND_CREDENTIAL_PROVIDER_SERVICE","BIND_DEVICE_ADMIN","BIND_DREAM_SERVICE","BIND_INCALL_SERVICE","BIND_INPUT_METHOD","BIND_MIDI_DEVICE_SERVICE","BIND_NFC_SERVICE","BIND_NOTIFICATION_LISTENER_SERVICE","BIND_PRINT_SERVICE","BIND_QUICK_ACCESS_WALLET_SERVICE","BIND_QUICK_SETTINGS_TILE","BIND_REMOTEVIEWS","BIND_SCREENING_SERVICE","BIND_TELECOM_CONNECTION_SERVICE","BIND_TEXT_SERVICE","BIND_TV_INPUT","BIND_TV_INTERACTIVE_APP","BIND_VISUAL_VOICEMAIL_SERVICE","BIND_VOICE_INTERACTION","BIND_VPN_SERVICE","BIND_VR_LISTENER_SERVICE","BIND_WALLPAPER","BLUETOOTH","BLUETOOTH_ADMIN","BLUETOOTH_ADVERTISE","BLUETOOTH_CONNECT","BLUETOOTH_PRIVILEGED","BLUETOOTH_SCAN","BODY_SENSORS","BODY_SENSORS_BACKGROUND","BROADCAST_PACKAGE_REMOVED","BROADCAST_SMS","BROADCAST_STICKY","BROADCAST_WAP_PUSH","CALL_COMPANION_APP","CALL_PHONE","CALL_PRIVILEGED","CAPTURE_AUDIO_OUTPUT","CHANGE_COMPONENT_ENABLED_STATE","CHANGE_CONFIGURATION","CHANGE_NETWORK_STATE","CHANGE_WIFI_MULTICAST_STATE","CHANGE_WIFI_STATE","CLEAR_APP_CACHE","CONFIGURE_WIFI_DISPLAY","CONTROL_LOCATION_UPDATES","CREDENTIAL_MANAGER_QUERY_CANDIDATE_CREDENTIALS","CREDENTIAL_MANAGER_SET_ALLOWED_PROVIDERS","CREDENTIAL_MANAGER_SET_ORIGIN","DELETE_CACHE_FILES","DELETE_PACKAGES","DELIVER_COMPANION_MESSAGES","DETECT_SCREEN_CAPTURE","DIAGNOSTIC","DISABLE_KEYGUARD","DUMP","ENFORCE_UPDATE_OWNERSHIP","EXECUTE_APP_ACTION","EXPAND_STATUS_BAR","FACTORY_TEST","FOREGROUND_SERVICE","FOREGROUND_SERVICE_CAMERA","FOREGROUND_SERVICE_CONNECTED_DEVICE","FOREGROUND_SERVICE_DATA_SYNC","FOREGROUND_SERVICE_HEALTH","FOREGROUND_SERVICE_LOCATION","FOREGROUND_SERVICE_MEDIA_PLAYBACK","FOREGROUND_SERVICE_MEDIA_PROJECTION","FOREGROUND_SERVICE_MICROPHONE","FOREGROUND_SERVICE_PHONE_CALL","FOREGROUND_SERVICE_REMOTE_MESSAGING","FOREGROUND_SERVICE_SPECIAL_USE","FOREGROUND_SERVICE_SYSTEM_EXEMPTED","GET_ACCOUNTS","GET_ACCOUNTS_PRIVILEGED","GET_PACKAGE_SIZE","GET_TASKS","GLOBAL_SEARCH","HIDE_OVERLAY_WINDOWS","HIGH_SAMPLING_RATE_SENSORS","INSTALL_LOCATION_PROVIDER","INSTALL_PACKAGES","INSTALL_SHORTCUT","INSTANT_APP_FOREGROUND_SERVICE","INTERACT_ACROSS_PROFILES","INTERNET","KILL_BACKGROUND_PROCESSES","LAUNCH_CAPTURE_CONTENT_ACTIVITY_FOR_NOTE","LAUNCH_MULTI_PANE_SETTINGS_DEEP_LINK","LOADER_USAGE_STATS","LOCATION_HARDWARE","MANAGE_DEVICE_LOCK_STATE","MANAGE_DEVICE_POLICY_ACCESSIBILITY","MANAGE_DEVICE_POLICY_ACCOUNT_MANAGEMENT","MANAGE_DEVICE_POLICY_ACROSS_USERS","MANAGE_DEVICE_POLICY_ACROSS_USERS_FULL","MANAGE_DEVICE_POLICY_ACROSS_USERS_SECURITY_CRITICAL","MANAGE_DEVICE_POLICY_AIRPLANE_MODE","MANAGE_DEVICE_POLICY_APPS_CONTROL","MANAGE_DEVICE_POLICY_APP_RESTRICTIONS","MANAGE_DEVICE_POLICY_APP_USER_DATA","MANAGE_DEVICE_POLICY_AUDIO_OUTPUT","MANAGE_DEVICE_POLICY_AUTOFILL","MANAGE_DEVICE_POLICY_BACKUP_SERVICE","MANAGE_DEVICE_POLICY_BLUETOOTH","MANAGE_DEVICE_POLICY_BUGREPORT","MANAGE_DEVICE_POLICY_CALLS","MANAGE_DEVICE_POLICY_CAMERA","MANAGE_DEVICE_POLICY_CERTIFICATES","MANAGE_DEVICE_POLICY_COMMON_CRITERIA_MODE","MANAGE_DEVICE_POLICY_DEBUGGING_FEATURES","MANAGE_DEVICE_POLICY_DEFAULT_SMS","MANAGE_DEVICE_POLICY_DEVICE_IDENTIFIERS","MANAGE_DEVICE_POLICY_DISPLAY","MANAGE_DEVICE_POLICY_FACTORY_RESET","MANAGE_DEVICE_POLICY_FUN","MANAGE_DEVICE_POLICY_INPUT_METHODS","MANAGE_DEVICE_POLICY_INSTALL_UNKNOWN_SOURCES","MANAGE_DEVICE_POLICY_KEEP_UNINSTALLED_PACKAGES","MANAGE_DEVICE_POLICY_KEYGUARD","MANAGE_DEVICE_POLICY_LOCALE","MANAGE_DEVICE_POLICY_LOCATION","MANAGE_DEVICE_POLICY_LOCK","MANAGE_DEVICE_POLICY_LOCK_CREDENTIALS","MANAGE_DEVICE_POLICY_LOCK_TASK","MANAGE_DEVICE_POLICY_METERED_DATA","MANAGE_DEVICE_POLICY_MICROPHONE","MANAGE_DEVICE_POLICY_MOBILE_NETWORK","MANAGE_DEVICE_POLICY_MODIFY_USERS","MANAGE_DEVICE_POLICY_MTE","MANAGE_DEVICE_POLICY_NEARBY_COMMUNICATION","MANAGE_DEVICE_POLICY_NETWORK_LOGGING","MANAGE_DEVICE_POLICY_ORGANIZATION_IDENTITY","MANAGE_DEVICE_POLICY_OVERRIDE_APN","MANAGE_DEVICE_POLICY_PACKAGE_STATE","MANAGE_DEVICE_POLICY_PHYSICAL_MEDIA","MANAGE_DEVICE_POLICY_PRINTING","MANAGE_DEVICE_POLICY_PRIVATE_DNS","MANAGE_DEVICE_POLICY_PROFILES","MANAGE_DEVICE_POLICY_PROFILE_INTERACTION","MANAGE_DEVICE_POLICY_PROXY","MANAGE_DEVICE_POLICY_QUERY_SYSTEM_UPDATES","MANAGE_DEVICE_POLICY_RESET_PASSWORD","MANAGE_DEVICE_POLICY_RESTRICT_PRIVATE_DNS","MANAGE_DEVICE_POLICY_RUNTIME_PERMISSIONS","MANAGE_DEVICE_POLICY_RUN_IN_BACKGROUND","MANAGE_DEVICE_POLICY_SAFE_BOOT","MANAGE_DEVICE_POLICY_SCREEN_CAPTURE","MANAGE_DEVICE_POLICY_SCREEN_CONTENT","MANAGE_DEVICE_POLICY_SECURITY_LOGGING","MANAGE_DEVICE_POLICY_SETTINGS","MANAGE_DEVICE_POLICY_SMS","MANAGE_DEVICE_POLICY_STATUS_BAR","MANAGE_DEVICE_POLICY_SUPPORT_MESSAGE","MANAGE_DEVICE_POLICY_SUSPEND_PERSONAL_APPS","MANAGE_DEVICE_POLICY_SYSTEM_APPS","MANAGE_DEVICE_POLICY_SYSTEM_DIALOGS","MANAGE_DEVICE_POLICY_SYSTEM_UPDATES","MANAGE_DEVICE_POLICY_TIME","MANAGE_DEVICE_POLICY_USB_DATA_SIGNALLING","MANAGE_DEVICE_POLICY_USB_FILE_TRANSFER","MANAGE_DEVICE_POLICY_USERS","MANAGE_DEVICE_POLICY_VPN","MANAGE_DEVICE_POLICY_WALLPAPER","MANAGE_DEVICE_POLICY_WIFI","MANAGE_DEVICE_POLICY_WINDOWS","MANAGE_DEVICE_POLICY_WIPE_DATA","MANAGE_DOCUMENTS","MANAGE_EXTERNAL_STORAGE","MANAGE_MEDIA","MANAGE_ONGOING_CALLS","MANAGE_OWN_CALLS","MANAGE_WIFI_INTERFACES","MANAGE_WIFI_NETWORK_SELECTION","MASTER_CLEAR","MEDIA_CONTENT_CONTROL","MODIFY_AUDIO_SETTINGS","MODIFY_PHONE_STATE","MOUNT_FORMAT_FILESYSTEMS","MOUNT_UNMOUNT_FILESYSTEMS","NEARBY_WIFI_DEVICES","NFC","NFC_PREFERRED_PAYMENT_INFO","NFC_TRANSACTION_EVENT","OVERRIDE_WIFI_CONFIG","PACKAGE_USAGE_STATS","PERSISTENT_ACTIVITY","POST_NOTIFICATIONS","PROCESS_OUTGOING_CALLS","PROVIDE_OWN_AUTOFILL_SUGGESTIONS","PROVIDE_REMOTE_CREDENTIALS","QUERY_ALL_PACKAGES","READ_ASSISTANT_APP_SEARCH_DATA","READ_BASIC_PHONE_STATE","READ_CALENDAR","READ_CALL_LOG","READ_CONTACTS","READ_EXTERNAL_STORAGE","READ_HOME_APP_SEARCH_DATA","READ_INPUT_STATE","READ_LOGS","READ_MEDIA_AUDIO","READ_MEDIA_IMAGES","READ_MEDIA_VIDEO","READ_MEDIA_VISUAL_USER_SELECTED","READ_NEARBY_STREAMING_POLICY","READ_PHONE_NUMBERS","READ_PHONE_STATE","READ_PRECISE_PHONE_STATE","READ_SMS","READ_SYNC_SETTINGS","READ_SYNC_STATS","READ_VOICEMAIL","REBOOT","RECEIVE_BOOT_COMPLETED","RECEIVE_MMS","RECEIVE_SMS","RECEIVE_WAP_PUSH","RECORD_AUDIO","REORDER_TASKS","REQUEST_COMPANION_PROFILE_APP_STREAMING","REQUEST_COMPANION_PROFILE_AUTOMOTIVE_PROJECTION","REQUEST_COMPANION_PROFILE_COMPUTER","REQUEST_COMPANION_PROFILE_GLASSES","REQUEST_COMPANION_PROFILE_NEARBY_DEVICE_STREAMING","REQUEST_COMPANION_PROFILE_WATCH","REQUEST_COMPANION_RUN_IN_BACKGROUND","REQUEST_COMPANION_SELF_MANAGED","REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND","REQUEST_COMPANION_USE_DATA_IN_BACKGROUND","REQUEST_DELETE_PACKAGES","REQUEST_IGNORE_BATTERY_OPTIMIZATIONS","REQUEST_INSTALL_PACKAGES","REQUEST_OBSERVE_COMPANION_DEVICE_PRESENCE","REQUEST_PASSWORD_COMPLEXITY","RESTART_PACKAGES","RUN_USER_INITIATED_JOBS","SCHEDULE_EXACT_ALARM","SEND_RESPOND_VIA_MESSAGE","SEND_SMS","SET_ALARM","SET_ALWAYS_FINISH","SET_ANIMATION_SCALE","SET_DEBUG_APP","SET_PREFERRED_APPLICATIONS","SET_PROCESS_LIMIT","SET_TIME","SET_TIME_ZONE","SET_WALLPAPER","SET_WALLPAPER_HINTS","SIGNAL_PERSISTENT_PROCESSES","SMS_FINANCIAL_TRANSACTIONS","START_FOREGROUND_SERVICES_FROM_BACKGROUND","START_VIEW_APP_FEATURES","START_VIEW_PERMISSION_USAGE","STATUS_BAR","SUBSCRIBE_TO_KEYGUARD_LOCKED_STATE","TRANSMIT_IR","TURN_SCREEN_ON","UNINSTALL_SHORTCUT","UPDATE_DEVICE_STATS","UPDATE_PACKAGES_WITHOUT_USER_ACTION","USE_BIOMETRIC","USE_EXACT_ALARM","USE_FINGERPRINT","USE_FULL_SCREEN_INTENT","USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER","USE_SIP","UWB_RANGING","VIBRATE","WAKE_LOCK","WRITE_APN_SETTINGS","WRITE_CALENDAR","WRITE_CALL_LOG","WRITE_CONTACTS","WRITE_EXTERNAL_STORAGE","WRITE_GSERVICES","WRITE_SECURE_SETTINGS","WRITE_SETTINGS","WRITE_SYNC_SETTINGS","WRITE_VOICEMAIL"],"sourceRoot":"","ignoreList":[]}